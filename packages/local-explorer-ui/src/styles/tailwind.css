@source "../../node_modules/@cloudflare/kumo/dist/**/*.{js,jsx,ts,tsx}";

@import "@cloudflare/kumo/styles/tailwind";
@import "tailwindcss";

@custom-variant dark (@media (prefers-color-scheme: dark));

@theme {
	/* Cloudflare Workers brand colors - Light mode (default) */
	--color-bg: #fffdfb;
	--color-bg-secondary: #fef7ed;
	--color-bg-tertiary: #fffbf5;
	--color-text: #521000;
	--color-text-secondary: #521000b3;
	--color-border: #ebd5c1;
	--color-primary: #ff4801;
	--color-primary-hover: #ff7038;
	--color-danger: #fb2c36;
	--color-danger-hover: #dc2626;
	--color-success: #16a34a;

	/* Studio surface colors — warm-toned equivalents of neutral grays */
	--color-surface: #fef7ed;
	--color-surface-secondary: #f5f0eb;
	--color-surface-tertiary: #ebe3db;
	--color-muted: #8a6e5c;
	--color-accent: #f0e6dc;
	--color-background: #fffdfb;
	--color-border-active: #ff4801;
	--color-tooltip-bg: #3d2e24;
	--color-tooltip-text: #ffeee6;
	--color-resizer: #d4c4b6;

	/* SQL editor chrome */
	--color-selection: rgba(82, 16, 0, 0.12);
	--color-active-line: rgba(82, 16, 0, 0.05);

	/* SQL editor syntax highlighting */
	--color-syntax-keyword: #0000ff;
	--color-syntax-string: #d16969;
	--color-syntax-number: #098658;
	--color-syntax-comment: #6a737d;
	--color-syntax-operator: #5a5a5a;
	--color-syntax-table: #e84393;

	/* Focus ring shadows */
	--shadow-focus-primary: 0 0 0 3px rgba(255, 72, 1, 0.15);
	--shadow-focus-danger: 0 0 0 3px rgba(251, 44, 54, 0.15);

	/* Custom sizing */
	--width-sidebar: 240px;

	/*
	 * Kumo component library tokens.
	 * These must be in @theme for Tailwind v4 to generate utility classes
	 * (e.g., bg-kumo-control, text-kumo-default, ring-kumo-line).
	 * The values reference CSS custom properties defined in :root below.
	 */
	/* --color-kumo-base: var(--color-background);
	--color-kumo-brand: var(--color-primary);
	--color-kumo-brand-hover: var(--color-primary-hover);
	--color-kumo-control: var(--color-surface);
	--color-kumo-danger: var(--color-danger);
	--color-kumo-default: var(--color-text);
	--color-kumo-elevated: var(--color-surface-secondary);
	--color-kumo-fill: var(--color-border);
	--color-kumo-inactive: var(--color-muted);
	--color-kumo-interact: var(--color-surface-tertiary);
	--color-kumo-line: var(--color-border);
	--color-kumo-link: var(--color-primary);
	--color-kumo-overlay: var(--color-accent);
	--color-kumo-recessed: var(--color-surface-tertiary);
	--color-kumo-ring: var(--color-muted);
	--color-kumo-subtle: var(--color-muted);
	--color-kumo-tint: var(--color-surface-secondary); */
}

/*
 * Map @cloudflare/kumo component tokens to our brand theme.
 * Kumo's DropdownMenu, Button, Input, Tooltip, etc. reference --color-kumo-*
 * and --text-color-kumo-* variables internally. Without these mappings,
 * backgrounds and text colors resolve to transparent/invisible.
 */
:root {
	/* Background tokens */
	--color-kumo-base: var(--color-background);
	--color-kumo-control: var(--color-surface);
	--color-kumo-elevated: var(--color-surface-secondary);
	--color-kumo-overlay: var(--color-accent);
	--color-kumo-recessed: var(--color-surface-tertiary);
	--color-kumo-tint: var(--color-surface-secondary);

	/* Interactive / brand tokens */
	--color-kumo-brand: var(--color-primary);
	--color-kumo-brand-hover: var(--color-primary-hover);
	--color-kumo-interact: var(--color-surface-tertiary);
	--color-kumo-danger: var(--color-danger);

	/* Border / line tokens */
	--color-kumo-fill: var(--color-border);
	--color-kumo-line: var(--color-border);
	--color-kumo-ring: var(--color-muted);

	/* Tooltip tokens */
	--color-kumo-tip-shadow: rgba(0, 0, 0, 0.08);
	--color-kumo-tip-stroke: transparent;

	/* Text color tokens */
	--text-color-kumo-default: var(--color-text);
	--text-color-kumo-subtle: var(--color-muted);
	--text-color-kumo-inactive: var(--color-muted);
	--text-color-kumo-danger: var(--color-danger);
	--text-color-kumo-link: var(--color-primary);
}

/* Dark mode color overrides */
@media (prefers-color-scheme: dark) {
	:root {
		--color-bg: #1a1412;
		--color-bg-secondary: #0f0c0a;
		--color-bg-tertiary: #231c18;
		--color-text: #ffeee6;
		--color-text-secondary: #ffeee6b3;
		--color-border: #3d2e24;
		--color-primary: #ff6b33;
		--color-primary-hover: #ff8855;
		--color-danger: #ff4d55;
		--color-danger-hover: #ef4444;
		--color-success: #22c55e;

		/* Studio surface colors — dark mode */
		--color-surface: #0f0c0a;
		--color-surface-secondary: #231c18;
		--color-surface-tertiary: #3d2e24;
		--color-muted: #a08678;
		--color-accent: #2e221a;
		--color-background: #1a1412;
		--color-border-active: #ff6b33;
		--color-tooltip-bg: #3d2e24;
		--color-tooltip-text: #ffeee6;
		--color-resizer: #3d2e24;

		/* SQL editor chrome — dark mode */
		--color-selection: rgba(255, 238, 230, 0.15);
		--color-active-line: rgba(255, 238, 230, 0.06);

		/* SQL editor syntax highlighting — dark mode */
		--color-syntax-keyword: #4078f2;
		--color-syntax-string: #d16969;
		--color-syntax-number: #808080;
		--color-syntax-comment: #6a737d;
		--color-syntax-operator: #bfbfbf;
		--color-syntax-table: #fd79a8;

		--shadow-focus-primary: 0 0 0 3px rgba(255, 107, 51, 0.25);
		--shadow-focus-danger: 0 0 0 3px rgba(255, 77, 85, 0.25);

		/* Kumo tooltip overrides for dark mode */
		--color-kumo-tip-shadow: transparent;
		--color-kumo-tip-stroke: var(--color-border);
	}
}

@layer base {
	body {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
			Ubuntu, sans-serif;
		@apply text-sm leading-normal text-text bg-bg-secondary;
	}
}
