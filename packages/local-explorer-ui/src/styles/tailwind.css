@import "tailwindcss";

@theme {
	/* Cloudflare Workers brand colors - Light mode (default) */
	--color-bg: light-dark(#fffdfb, #1a1412);
	--color-bg-secondary: light-dark(#fef7ed, #0f0c0a);
	--color-bg-tertiary: light-dark(#fffbf5, #231c18);
	--color-text: light-dark(#521000, #ffeee6);
	--color-text-secondary: light-dark(#521000b3, #ffeee6b3);
	--color-border: light-dark(#ebd5c1, #3d2e24);
	--color-primary: light-dark(#ff4801, #ff6b33);
	--color-primary-hover: light-dark(#ff7038, #ff8855);
	--color-danger: light-dark(#fb2c36, #ff4d55);
	--color-danger-hover: light-dark(#dc2626, #ef4444);
	--color-success: light-dark(#16a34a, #22c55e);

	/* Custom sizing */
	--width-sidebar: 240px;
}

@layer base {
	:root {
		color-scheme: light dark;
	}

	body {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
			Ubuntu, sans-serif;
		@apply text-sm leading-normal text-text bg-bg-secondary;
	}
}

/* Base UI component animations - these require data-attribute selectors */
@layer components {
	/* Dialog backdrop */
	.dialog-backdrop {
		@apply fixed inset-0 bg-black/50 flex items-center justify-center z-[1000] transition-opacity duration-150;
	}
	.dialog-backdrop[data-starting-style],
	.dialog-backdrop[data-ending-style] {
		@apply opacity-0;
	}

	/* Dialog popup */
	.dialog {
		@apply fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[1001] bg-bg rounded-xl p-6 w-full max-w-[500px] shadow-[0_4px_24px_rgba(0,0,0,0.15),0_0_0_1px_var(--color-border)] transition-[opacity,transform] duration-150;
	}
	.dialog[data-starting-style],
	.dialog[data-ending-style] {
		@apply opacity-0 scale-95;
	}

	/* Collapsible panel (sidebar sections) */
	.sidebar-section-panel {
		@apply overflow-hidden transition-[height,opacity] duration-200 ease-out;
	}
	.sidebar-section-panel[data-starting-style],
	.sidebar-section-panel[data-ending-style] {
		@apply h-0 opacity-0;
	}

	/* Sidebar section trigger icon rotation */
	.sidebar-section-trigger[data-panel-open] .sidebar-section-icon {
		@apply rotate-90;
	}

	/* Action menu dropdown */
	.action-menu-dropdown {
		@apply min-w-[120px] bg-bg border border-border rounded-lg shadow-[0_4px_12px_rgba(0,0,0,0.15)] z-[100] overflow-hidden transition-[opacity,transform] duration-150;
	}
	.action-menu-dropdown[data-starting-style],
	.action-menu-dropdown[data-ending-style] {
		@apply opacity-0 -translate-y-1;
	}

	/* Action menu item highlighted state */
	.action-menu-item[data-highlighted] {
		@apply bg-bg-secondary;
	}

	/* Button disabled state via Base UI */
	.btn[data-disabled] {
		@apply opacity-60 cursor-not-allowed;
	}
	.btn[data-disabled]:active {
		@apply translate-y-0;
	}

	/* Copy button visibility on table row hover */
	.table-row:hover .copy-btn {
		@apply opacity-100;
	}
}
