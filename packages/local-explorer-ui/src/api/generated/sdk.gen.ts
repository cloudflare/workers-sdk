// This file is auto-generated by @hey-api/openapi-ts

import { client } from "./client.gen";
import type { Client, Options as Options2, TDataShape } from "./client";
import type {
	WorkersKvNamespaceDeleteKeyValuePairData,
	WorkersKvNamespaceDeleteKeyValuePairErrors,
	WorkersKvNamespaceDeleteKeyValuePairResponses,
	WorkersKvNamespaceGetMultipleKeyValuePairsData,
	WorkersKvNamespaceGetMultipleKeyValuePairsErrors,
	WorkersKvNamespaceGetMultipleKeyValuePairsResponses,
	WorkersKvNamespaceListANamespaceSKeysData,
	WorkersKvNamespaceListANamespaceSKeysErrors,
	WorkersKvNamespaceListANamespaceSKeysResponses,
	WorkersKvNamespaceListNamespacesData,
	WorkersKvNamespaceListNamespacesErrors,
	WorkersKvNamespaceListNamespacesResponses,
	WorkersKvNamespaceReadKeyValuePairData,
	WorkersKvNamespaceReadKeyValuePairErrors,
	WorkersKvNamespaceReadKeyValuePairResponses,
	WorkersKvNamespaceWriteKeyValuePairWithMetadataData,
	WorkersKvNamespaceWriteKeyValuePairWithMetadataErrors,
	WorkersKvNamespaceWriteKeyValuePairWithMetadataResponses,
} from "./types.gen";

export type Options<
	TData extends TDataShape = TDataShape,
	ThrowOnError extends boolean = boolean,
> = Options2<TData, ThrowOnError> & {
	/**
	 * You can provide a client instance returned by `createClient()` instead of
	 * individual options. This might be also useful if you want to implement a
	 * custom client.
	 */
	client?: Client;
	/**
	 * You can pass arbitrary values through the `meta` object. This can be
	 * used to access values that aren't defined as part of the SDK function.
	 */
	meta?: Record<string, unknown>;
};

/**
 * List Namespaces
 *
 * Returns the namespaces owned by an account.
 */
export const workersKvNamespaceListNamespaces = <
	ThrowOnError extends boolean = false,
>(
	options?: Options<WorkersKvNamespaceListNamespacesData, ThrowOnError>
) =>
	(options?.client ?? client).get<
		WorkersKvNamespaceListNamespacesResponses,
		WorkersKvNamespaceListNamespacesErrors,
		ThrowOnError
	>({ url: "/storage/kv/namespaces", ...options });

/**
 * List a Namespace's Keys
 *
 * Lists a namespace's keys.
 */
export const workersKvNamespaceListANamespace_SKeys = <
	ThrowOnError extends boolean = false,
>(
	options: Options<WorkersKvNamespaceListANamespaceSKeysData, ThrowOnError>
) =>
	(options.client ?? client).get<
		WorkersKvNamespaceListANamespaceSKeysResponses,
		WorkersKvNamespaceListANamespaceSKeysErrors,
		ThrowOnError
	>({ url: "/storage/kv/namespaces/{namespace_id}/keys", ...options });

/**
 * Delete key-value pair
 *
 * Remove a KV pair from the namespace. Use URL-encoding to use special characters (for example, `:`, `!`, `%`) in the key name.
 */
export const workersKvNamespaceDeleteKeyValuePair = <
	ThrowOnError extends boolean = false,
>(
	options: Options<WorkersKvNamespaceDeleteKeyValuePairData, ThrowOnError>
) =>
	(options.client ?? client).delete<
		WorkersKvNamespaceDeleteKeyValuePairResponses,
		WorkersKvNamespaceDeleteKeyValuePairErrors,
		ThrowOnError
	>({
		url: "/storage/kv/namespaces/{namespace_id}/values/{key_name}",
		...options,
		headers: {
			"Content-Type": "application/json",
			...options.headers,
		},
	});

/**
 * Read key-value pair
 *
 * Returns the value associated with the given key in the given namespace. Use URL-encoding to use special characters (for example, `:`, `!`, `%`) in the key name. If the KV-pair is set to expire at some point, the expiration time as measured in seconds since the UNIX epoch will be returned in the `expiration` response header.
 */
export const workersKvNamespaceReadKeyValuePair = <
	ThrowOnError extends boolean = false,
>(
	options: Options<WorkersKvNamespaceReadKeyValuePairData, ThrowOnError>
) =>
	(options.client ?? client).get<
		WorkersKvNamespaceReadKeyValuePairResponses,
		WorkersKvNamespaceReadKeyValuePairErrors,
		ThrowOnError
	>({
		url: "/storage/kv/namespaces/{namespace_id}/values/{key_name}",
		...options,
	});

/**
 * Write key-value pair with optional metadata
 *
 * Write a value identified by a key. Use URL-encoding to use special characters (for example, `:`, `!`, `%`) in the key name. Body should be the value to be stored. If JSON metadata to be associated with the key/value pair is needed, use `multipart/form-data` content type for your PUT request (see dropdown below in `REQUEST BODY SCHEMA`). Existing values, expirations, and metadata will be overwritten. If neither `expiration` nor `expiration_ttl` is specified, the key-value pair will never expire. If both are set, `expiration_ttl` is used and `expiration` is ignored.
 */
export const workersKvNamespaceWriteKeyValuePairWithMetadata = <
	ThrowOnError extends boolean = false,
>(
	options: Options<
		WorkersKvNamespaceWriteKeyValuePairWithMetadataData,
		ThrowOnError
	>
) =>
	(options.client ?? client).put<
		WorkersKvNamespaceWriteKeyValuePairWithMetadataResponses,
		WorkersKvNamespaceWriteKeyValuePairWithMetadataErrors,
		ThrowOnError
	>({
		bodySerializer: null,
		url: "/storage/kv/namespaces/{namespace_id}/values/{key_name}",
		...options,
		headers: {
			"Content-Type": "application/octet-stream",
			...options.headers,
		},
	});

/**
 * Get multiple key-value pairs
 *
 * Retrieve up to 100 KV pairs from the namespace. Keys must contain text-based values. JSON values can optionally be parsed instead of being returned as a string value. Metadata can be included if `withMetadata` is true.
 */
export const workersKvNamespaceGetMultipleKeyValuePairs = <
	ThrowOnError extends boolean = false,
>(
	options: Options<WorkersKvNamespaceGetMultipleKeyValuePairsData, ThrowOnError>
) =>
	(options.client ?? client).post<
		WorkersKvNamespaceGetMultipleKeyValuePairsResponses,
		WorkersKvNamespaceGetMultipleKeyValuePairsErrors,
		ThrowOnError
	>({
		url: "/storage/kv/namespaces/{namespace_id}/bulk/get",
		...options,
		headers: {
			"Content-Type": "application/json",
			...options.headers,
		},
	});
