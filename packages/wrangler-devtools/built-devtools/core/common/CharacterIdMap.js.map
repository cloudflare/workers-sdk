{"version":3,"file":"CharacterIdMap.js","sourceRoot":"","sources":["../../../../../../front_end/core/common/CharacterIdMap.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,MAAM,OAAO,cAAc;IAChB,mBAAmB,CAAiB;IACpC,mBAAmB,CAAiB;IAC7C,SAAS,CAAS;IAElB;QACE,IAAI,CAAC,mBAAmB,GAAG,IAAI,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,mBAAmB,GAAG,IAAI,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACtB,CAAC;IAED,MAAM,CAAC,MAAS;QACd,IAAI,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACrD,IAAI,CAAC,SAAS,EAAE;YACd,IAAI,IAAI,CAAC,SAAS,IAAI,MAAM,EAAE;gBAC5B,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAC;aACxD;YACD,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;YAClD,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;YAChD,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;SACjD;QACD,OAAO,SAAS,CAAC;IACnB,CAAC;IAED,QAAQ,CAAC,SAAiB;QACxB,MAAM,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvD,IAAI,MAAM,KAAK,SAAS,EAAE;YACxB,OAAO,IAAI,CAAC;SACb;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;CACF","sourcesContent":["// Copyright 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nexport class CharacterIdMap<T> {\n  readonly #elementToCharacter: Map<T, string>;\n  readonly #characterToElement: Map<string, T>;\n  #charCode: number;\n\n  constructor() {\n    this.#elementToCharacter = new Map();\n    this.#characterToElement = new Map();\n    this.#charCode = 33;\n  }\n\n  toChar(object: T): string {\n    let character = this.#elementToCharacter.get(object);\n    if (!character) {\n      if (this.#charCode >= 0xFFFF) {\n        throw new Error('CharacterIdMap ran out of capacity!');\n      }\n      character = String.fromCharCode(this.#charCode++);\n      this.#elementToCharacter.set(object, character);\n      this.#characterToElement.set(character, object);\n    }\n    return character;\n  }\n\n  fromChar(character: string): T|null {\n    const object = this.#characterToElement.get(character);\n    if (object === undefined) {\n      return null;\n    }\n    return object;\n  }\n}\n"]}