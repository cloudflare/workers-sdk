{"version":3,"file":"position.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/text_editor/position.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAI7B,MAAM,UAAU,QAAQ,CACpB,GAAoB,EAAE,EAAC,UAAU,EAAE,YAAY,EAA6C;IAC9F,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACxE,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,GAAG,YAAY,CAAC,CAAC,CAAC;AAC1E,CAAC;AAED,MAAM,UAAU,YAAY,CAAC,GAAoB,EAAE,MAAc;IAC/D,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;IACnD,MAAM,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAChC,OAAO,EAAC,UAAU,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,YAAY,EAAE,MAAM,GAAG,IAAI,CAAC,IAAI,EAAC,CAAC;AACzE,CAAC","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as CodeMirror from '../../../third_party/codemirror.next/codemirror.next.js';\n\nexport function toOffset(\n    doc: CodeMirror.Text, {lineNumber, columnNumber}: {lineNumber: number, columnNumber: number}): number {\n  const line = doc.line(Math.max(1, Math.min(doc.lines, lineNumber + 1)));\n  return Math.max(line.from, Math.min(line.to, line.from + columnNumber));\n}\n\nexport function toLineColumn(doc: CodeMirror.Text, offset: number): {lineNumber: number, columnNumber: number} {\n  offset = Math.max(0, Math.min(offset, doc.length));\n  const line = doc.lineAt(offset);\n  return {lineNumber: line.number - 1, columnNumber: offset - line.from};\n}\n"]}