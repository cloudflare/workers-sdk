{"version":3,"file":"ExtensionTraceProvider.js","sourceRoot":"","sources":["../../../../../../front_end/models/extensions/ExtensionTraceProvider.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,EAAC,eAAe,EAAC,MAAM,sBAAsB,CAAC;AAGrD,MAAM,OAAO,sBAAsB;IAChB,eAAe,CAAS;IACxB,EAAE,CAAS;IACX,YAAY,CAAS;IACrB,eAAe,CAAS;IACzC,YAAY,eAAuB,EAAE,EAAU,EAAE,YAAoB,EAAE,eAAuB;QAC5F,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;IACzC,CAAC;IAED,KAAK,CAAC,OAAuB;QAC3B,MAAM,SAAS,GAAG,MAAM,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3C,eAAe,CAAC,QAAQ,EAAE,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;IAC9E,CAAC;IAED,IAAI;QACF,eAAe,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACzD,CAAC;IAED,gBAAgB;QACd,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED,eAAe;QACb,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IAED,oBAAoB;QAClB,OAAO,GAAG,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;IACxD,CAAC;CACF;AAED,mEAAmE;AACnE,gEAAgE;AAChE,IAAI,cAAc,GAAG,CAAC,CAAC","sourcesContent":["// Copyright 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {ExtensionServer} from './ExtensionServer.js';\nimport type * as Platform from '../../core/platform/platform.js';\n\nexport class ExtensionTraceProvider {\n  private readonly extensionOrigin: string;\n  private readonly id: string;\n  private readonly categoryName: string;\n  private readonly categoryTooltip: string;\n  constructor(extensionOrigin: string, id: string, categoryName: string, categoryTooltip: string) {\n    this.extensionOrigin = extensionOrigin;\n    this.id = id;\n    this.categoryName = categoryName;\n    this.categoryTooltip = categoryTooltip;\n  }\n\n  start(session: TracingSession): void {\n    const sessionId = String(++_lastSessionId);\n    ExtensionServer.instance().startTraceRecording(this.id, sessionId, session);\n  }\n\n  stop(): void {\n    ExtensionServer.instance().stopTraceRecording(this.id);\n  }\n\n  shortDisplayName(): string {\n    return this.categoryName;\n  }\n\n  longDisplayName(): string {\n    return this.categoryTooltip;\n  }\n\n  persistentIdentifier(): string {\n    return `${this.extensionOrigin}/${this.categoryName}`;\n  }\n}\n\n// TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n// eslint-disable-next-line @typescript-eslint/naming-convention\nlet _lastSessionId = 0;\n\nexport interface TracingSession {\n  complete(url: Platform.DevToolsPath.UrlString, timeOffsetMicroseconds: number): void;\n}\n"]}