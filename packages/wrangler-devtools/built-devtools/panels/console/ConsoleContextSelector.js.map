{"version":3,"file":"ConsoleContextSelector.js","sourceRoot":"","sources":["../../../../../../front_end/panels/console/ConsoleContextSelector.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2015 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport consoleContextSelectorStyles from './consoleContextSelector.css.js';\n\nconst UIStrings = {\n  /**\n  *@description Title of toolbar item in console context selector of the console panel\n  */\n  javascriptContextNotSelected: 'JavaScript context: Not selected',\n  /**\n  *@description Text in Console Context Selector of the Console panel\n  */\n  extension: 'Extension',\n  /**\n  *@description Text in Console Context Selector of the Console panel\n  *@example {top} PH1\n  */\n  javascriptContextS: 'JavaScript context: {PH1}',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/console/ConsoleContextSelector.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class ConsoleContextSelector implements SDK.TargetManager.SDKModelObserver<SDK.RuntimeModel.RuntimeModel>,\n                                               UI.SoftDropDown.Delegate<SDK.RuntimeModel.ExecutionContext> {\n  private readonly items: UI.ListModel.ListModel<SDK.RuntimeModel.ExecutionContext>;\n  private readonly dropDown: UI.SoftDropDown.SoftDropDown<SDK.RuntimeModel.ExecutionContext>;\n  private readonly toolbarItemInternal: UI.Toolbar.ToolbarItem;\n\n  constructor() {\n    this.items = new UI.ListModel.ListModel();\n    this.dropDown = new UI.SoftDropDown.SoftDropDown(this.items, this);\n    this.dropDown.setRowHeight(36);\n    this.toolbarItemInternal = new UI.Toolbar.ToolbarItem(this.dropDown.element);\n    this.toolbarItemInternal.setEnabled(false);\n    this.toolbarItemInternal.setTitle(i18nString(UIStrings.javascriptContextNotSelected));\n    this.items.addEventListener(\n        UI.ListModel.Events.ItemsReplaced, () => this.toolbarItemInternal.setEnabled(Boolean(this.items.length)));\n\n    this.toolbarItemInternal.element.classList.add('toolbar-has-dropdown');\n\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.RuntimeModel.RuntimeModel, SDK.RuntimeModel.Events.ExecutionContextCreated, this.onExecutionContextCreated,\n        this);\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.RuntimeModel.RuntimeModel, SDK.RuntimeModel.Events.ExecutionContextChanged, this.onExecutionContextChanged,\n        this);\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.RuntimeModel.RuntimeModel, SDK.RuntimeModel.Events.ExecutionContextDestroyed,\n        this.onExecutionContextDestroyed, this);\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.ResourceTreeModel.ResourceTreeModel, SDK.ResourceTreeModel.Events.FrameNavigated, this.frameNavigated,\n        this);\n\n    UI.Context.Context.instance().addFlavorChangeListener(\n        SDK.RuntimeModel.ExecutionContext, this.executionContextChangedExternally, this);\n    UI.Context.Context.instance().addFlavorChangeListener(\n        SDK.DebuggerModel.CallFrame, this.callFrameSelectedInUI, this);\n    SDK.TargetManager.TargetManager.instance().observeModels(SDK.RuntimeModel.RuntimeModel, this);\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.DebuggerModel.DebuggerModel, SDK.DebuggerModel.Events.CallFrameSelected, this.callFrameSelectedInModel,\n        this);\n  }\n\n  toolbarItem(): UI.Toolbar.ToolbarItem {\n    return this.toolbarItemInternal;\n  }\n\n  highlightedItemChanged(\n      from: SDK.RuntimeModel.ExecutionContext|null, to: SDK.RuntimeModel.ExecutionContext|null,\n      fromElement: Element|null, toElement: Element|null): void {\n    SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n    if (to && to.frameId) {\n      const frame = SDK.FrameManager.FrameManager.instance().getFrame(to.frameId);\n      if (frame && !frame.isTopFrame()) {\n        void frame.highlight();\n      }\n    }\n    if (fromElement) {\n      fromElement.classList.remove('highlighted');\n    }\n    if (toElement) {\n      toElement.classList.add('highlighted');\n    }\n  }\n\n  titleFor(executionContext: SDK.RuntimeModel.ExecutionContext): string {\n    const target = executionContext.target();\n    const maybeLabel = executionContext.label();\n    let label: string = maybeLabel ? target.decorateLabel(maybeLabel) : '';\n    if (executionContext.frameId) {\n      const resourceTreeModel = target.model(SDK.ResourceTreeModel.ResourceTreeModel);\n      const frame = resourceTreeModel && resourceTreeModel.frameForId(executionContext.frameId);\n      if (frame) {\n        label = label || frame.displayName();\n      }\n    }\n    label = label || executionContext.origin;\n\n    return label;\n  }\n\n  private depthFor(executionContext: SDK.RuntimeModel.ExecutionContext): number {\n    let target = executionContext.target();\n    let depth = 0;\n    if (!executionContext.isDefault) {\n      depth++;\n    }\n    if (executionContext.frameId) {\n      let frame = SDK.FrameManager.FrameManager.instance().getFrame(executionContext.frameId);\n      while (frame) {\n        frame = frame.parentFrame();\n        if (frame) {\n          depth++;\n          target = frame.resourceTreeModel().target();\n        }\n      }\n    }\n    let targetDepth = 0;\n    let parentTarget = target.parentTarget();\n    // Special casing service workers to be top-level.\n    while (parentTarget && target.type() !== SDK.Target.Type.ServiceWorker) {\n      targetDepth++;\n      target = parentTarget;\n      parentTarget = target.parentTarget();\n    }\n    depth += targetDepth;\n    return depth;\n  }\n\n  private executionContextCreated(executionContext: SDK.RuntimeModel.ExecutionContext): void {\n    this.items.insertWithComparator(executionContext, executionContext.runtimeModel.executionContextComparator());\n\n    if (executionContext === UI.Context.Context.instance().flavor(SDK.RuntimeModel.ExecutionContext)) {\n      this.dropDown.selectItem(executionContext);\n    }\n  }\n\n  private onExecutionContextCreated(event: Common.EventTarget.EventTargetEvent<SDK.RuntimeModel.ExecutionContext>):\n      void {\n    const executionContext = event.data;\n    this.executionContextCreated(executionContext);\n  }\n\n  private onExecutionContextChanged(event: Common.EventTarget.EventTargetEvent<SDK.RuntimeModel.ExecutionContext>):\n      void {\n    const executionContext = event.data;\n    if (this.items.indexOf(executionContext) === -1) {\n      return;\n    }\n    this.executionContextDestroyed(executionContext);\n    this.executionContextCreated(executionContext);\n  }\n\n  private executionContextDestroyed(executionContext: SDK.RuntimeModel.ExecutionContext): void {\n    const index = this.items.indexOf(executionContext);\n    if (index === -1) {\n      return;\n    }\n    this.items.remove(index);\n  }\n\n  private onExecutionContextDestroyed(event: Common.EventTarget.EventTargetEvent<SDK.RuntimeModel.ExecutionContext>):\n      void {\n    const executionContext = event.data;\n    this.executionContextDestroyed(executionContext);\n  }\n\n  private executionContextChangedExternally({\n    data: executionContext,\n  }: Common.EventTarget.EventTargetEvent<SDK.RuntimeModel.ExecutionContext|null>): void {\n    this.dropDown.selectItem(executionContext);\n  }\n\n  private isTopContext(executionContext: SDK.RuntimeModel.ExecutionContext|null): boolean {\n    if (!executionContext || !executionContext.isDefault) {\n      return false;\n    }\n    const resourceTreeModel = executionContext.target().model(SDK.ResourceTreeModel.ResourceTreeModel);\n    const frame =\n        executionContext.frameId && resourceTreeModel && resourceTreeModel.frameForId(executionContext.frameId);\n    if (!frame) {\n      return false;\n    }\n    return frame.isTopFrame();\n  }\n\n  private hasTopContext(): boolean {\n    return this.items.some(executionContext => this.isTopContext(executionContext));\n  }\n\n  modelAdded(runtimeModel: SDK.RuntimeModel.RuntimeModel): void {\n    runtimeModel.executionContexts().forEach(this.executionContextCreated, this);\n  }\n\n  modelRemoved(runtimeModel: SDK.RuntimeModel.RuntimeModel): void {\n    for (let i = this.items.length - 1; i >= 0; i--) {\n      if (this.items.at(i).runtimeModel === runtimeModel) {\n        this.executionContextDestroyed(this.items.at(i));\n      }\n    }\n  }\n\n  createElementForItem(item: SDK.RuntimeModel.ExecutionContext): Element {\n    const element = document.createElement('div');\n    const shadowRoot = UI.Utils.createShadowRootWithCoreStyles(\n        element, {cssFile: [consoleContextSelectorStyles], delegatesFocus: undefined});\n    const title = shadowRoot.createChild('div', 'title');\n    UI.UIUtils.createTextChild(title, Platform.StringUtilities.trimEndWithMaxLength(this.titleFor(item), 100));\n    const subTitle = shadowRoot.createChild('div', 'subtitle');\n    UI.UIUtils.createTextChild(subTitle, this.subtitleFor(item));\n    element.style.paddingLeft = (8 + this.depthFor(item) * 15) + 'px';\n    return element;\n  }\n\n  private subtitleFor(executionContext: SDK.RuntimeModel.ExecutionContext): string {\n    const target = executionContext.target();\n    let frame: SDK.ResourceTreeModel.ResourceTreeFrame|null = null;\n    if (executionContext.frameId) {\n      const resourceTreeModel = target.model(SDK.ResourceTreeModel.ResourceTreeModel);\n      frame = resourceTreeModel && resourceTreeModel.frameForId(executionContext.frameId);\n    }\n    if (executionContext.origin.startsWith('chrome-extension://')) {\n      return i18nString(UIStrings.extension);\n    }\n    const sameTargetParentFrame = frame && frame.sameTargetParentFrame();\n    // TODO(crbug.com/1159332): Understand why condition involves the sameTargetParentFrame.\n    if (!frame || !sameTargetParentFrame || sameTargetParentFrame.securityOrigin !== executionContext.origin) {\n      const url = Common.ParsedURL.ParsedURL.fromString(executionContext.origin);\n      if (url) {\n        return url.domain();\n      }\n    }\n\n    if (frame && frame.securityOrigin) {\n      const domain = new Common.ParsedURL.ParsedURL(frame.securityOrigin).domain();\n      if (domain) {\n        return domain;\n      }\n    }\n    return 'IFrame';\n  }\n\n  isItemSelectable(item: SDK.RuntimeModel.ExecutionContext): boolean {\n    const callFrame = item.debuggerModel.selectedCallFrame();\n    const callFrameContext = callFrame && callFrame.script.executionContext();\n    return !callFrameContext || item === callFrameContext;\n  }\n\n  itemSelected(item: SDK.RuntimeModel.ExecutionContext|null): void {\n    this.toolbarItemInternal.element.classList.toggle('highlight', !this.isTopContext(item) && this.hasTopContext());\n    const title = item ? i18nString(UIStrings.javascriptContextS, {PH1: this.titleFor(item)}) :\n                         i18nString(UIStrings.javascriptContextNotSelected);\n    this.toolbarItemInternal.setTitle(title);\n    UI.Context.Context.instance().setFlavor(SDK.RuntimeModel.ExecutionContext, item);\n  }\n\n  private callFrameSelectedInUI(): void {\n    const callFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n    const callFrameContext = callFrame && callFrame.script.executionContext();\n    if (callFrameContext) {\n      UI.Context.Context.instance().setFlavor(SDK.RuntimeModel.ExecutionContext, callFrameContext);\n    }\n  }\n\n  private callFrameSelectedInModel(event: Common.EventTarget.EventTargetEvent<SDK.DebuggerModel.DebuggerModel>): void {\n    const debuggerModel = event.data;\n    for (const executionContext of this.items) {\n      if (executionContext.debuggerModel === debuggerModel) {\n        this.dropDown.refreshItem(executionContext);\n      }\n    }\n  }\n\n  private frameNavigated(event: Common.EventTarget.EventTargetEvent<SDK.ResourceTreeModel.ResourceTreeFrame>): void {\n    const frame = event.data;\n    const runtimeModel = frame.resourceTreeModel().target().model(SDK.RuntimeModel.RuntimeModel);\n    if (!runtimeModel) {\n      return;\n    }\n    for (const executionContext of runtimeModel.executionContexts()) {\n      if (frame.id === executionContext.frameId) {\n        this.dropDown.refreshItem(executionContext);\n      }\n    }\n  }\n}\n"]}