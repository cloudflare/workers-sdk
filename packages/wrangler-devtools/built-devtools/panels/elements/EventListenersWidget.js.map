{"version":3,"file":"EventListenersWidget.js","sourceRoot":"","sources":["../../../../../../front_end/panels/elements/EventListenersWidget.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * Copyright (C) 2007 Apple Inc.  All rights reserved.\n * Copyright (C) 2009 Joseph Pecoraro\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as EventListeners from '../event_listeners/event_listeners.js';\n\nconst UIStrings = {\n  /**\n  *@description Title of show framework listeners setting in event listeners widget of the elements panel\n  */\n  frameworkListeners: '`Framework` listeners',\n  /**\n  *@description Text to refresh the page\n  */\n  refresh: 'Refresh',\n  /**\n  *@description Tooltip text that appears on the setting when hovering over it in Event Listeners Widget of the Elements panel\n  */\n  showListenersOnTheAncestors: 'Show listeners on the ancestors',\n  /**\n  *@description Alternative title text of a setting in Event Listeners Widget of the Elements panel\n  */\n  ancestors: 'Ancestors',\n  /**\n  *@description Title of dispatch filter in event listeners widget of the elements panel\n  */\n  eventListenersCategory: 'Event listeners category',\n  /**\n  *@description Text for everything\n  */\n  all: 'All',\n  /**\n  *@description Text in Event Listeners Widget of the Elements panel\n  */\n  passive: 'Passive',\n  /**\n  *@description Text in Event Listeners Widget of the Elements panel\n  */\n  blocking: 'Blocking',\n  /**\n  *@description Tooltip text that appears on the setting when hovering over it in Event Listeners Widget of the Elements panel\n  */\n  resolveEventListenersBoundWith: 'Resolve event listeners bound with framework',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/elements/EventListenersWidget.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nlet eventListenersWidgetInstance: EventListenersWidget;\n\nexport class EventListenersWidget extends UI.ThrottledWidget.ThrottledWidget implements UI.Toolbar.ItemsProvider {\n  private readonly toolbarItemsInternal: (UI.Toolbar.ToolbarButton|UI.Toolbar.ToolbarSettingCheckbox|\n                                          UI.Toolbar.ToolbarComboBox)[];\n  private showForAncestorsSetting: Common.Settings.Setting<boolean>;\n  private readonly dispatchFilterBySetting: Common.Settings.Setting<string>;\n  private readonly showFrameworkListenersSetting: Common.Settings.Setting<boolean>;\n  private readonly eventListenersView: EventListeners.EventListenersView.EventListenersView;\n  private lastRequestedNode?: SDK.DOMModel.DOMNode;\n\n  constructor() {\n    super();\n    this.toolbarItemsInternal = [];\n\n    this.showForAncestorsSetting = Common.Settings.Settings.instance().moduleSetting('showEventListenersForAncestors');\n    this.showForAncestorsSetting.addChangeListener(this.update.bind(this));\n\n    this.dispatchFilterBySetting =\n        Common.Settings.Settings.instance().createSetting('eventListenerDispatchFilterType', DispatchFilterBy.All);\n    this.dispatchFilterBySetting.addChangeListener(this.update.bind(this));\n\n    this.showFrameworkListenersSetting =\n        Common.Settings.Settings.instance().createSetting('showFrameowkrListeners', true);\n    this.showFrameworkListenersSetting.setTitle(i18nString(UIStrings.frameworkListeners));\n    this.showFrameworkListenersSetting.addChangeListener(this.showFrameworkListenersChanged.bind(this));\n    this.eventListenersView = new EventListeners.EventListenersView.EventListenersView(this.update.bind(this));\n    this.eventListenersView.show(this.element);\n\n    const refreshButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.refresh), 'largeicon-refresh');\n    refreshButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, this.update.bind(this));\n    this.toolbarItemsInternal.push(refreshButton);\n    this.toolbarItemsInternal.push(new UI.Toolbar.ToolbarSettingCheckbox(\n        this.showForAncestorsSetting, i18nString(UIStrings.showListenersOnTheAncestors),\n        i18nString(UIStrings.ancestors)));\n    const dispatchFilter = new UI.Toolbar.ToolbarComboBox(\n        this.onDispatchFilterTypeChanged.bind(this), i18nString(UIStrings.eventListenersCategory));\n\n    function addDispatchFilterOption(this: EventListenersWidget, name: string, value: string): void {\n      const option = dispatchFilter.createOption(name, value);\n      if (value === this.dispatchFilterBySetting.get()) {\n        dispatchFilter.select(option);\n      }\n    }\n    addDispatchFilterOption.call(this, i18nString(UIStrings.all), DispatchFilterBy.All);\n    addDispatchFilterOption.call(this, i18nString(UIStrings.passive), DispatchFilterBy.Passive);\n    addDispatchFilterOption.call(this, i18nString(UIStrings.blocking), DispatchFilterBy.Blocking);\n    dispatchFilter.setMaxWidth(200);\n    this.toolbarItemsInternal.push(dispatchFilter);\n    this.toolbarItemsInternal.push(new UI.Toolbar.ToolbarSettingCheckbox(\n        this.showFrameworkListenersSetting, i18nString(UIStrings.resolveEventListenersBoundWith)));\n\n    UI.Context.Context.instance().addFlavorChangeListener(SDK.DOMModel.DOMNode, this.update, this);\n    this.update();\n  }\n\n  static instance(opts: {\n    forceNew: boolean|null,\n  }|undefined = {forceNew: null}): EventListenersWidget {\n    const {forceNew} = opts;\n    if (!eventListenersWidgetInstance || forceNew) {\n      eventListenersWidgetInstance = new EventListenersWidget();\n    }\n\n    return eventListenersWidgetInstance;\n  }\n\n  doUpdate(): Promise<void> {\n    if (this.lastRequestedNode) {\n      this.lastRequestedNode.domModel().runtimeModel().releaseObjectGroup(objectGroupName);\n      delete this.lastRequestedNode;\n    }\n    const node = UI.Context.Context.instance().flavor(SDK.DOMModel.DOMNode);\n    if (!node) {\n      this.eventListenersView.reset();\n      this.eventListenersView.addEmptyHolderIfNeeded();\n      return Promise.resolve();\n    }\n    this.lastRequestedNode = node;\n    const selectedNodeOnly = !this.showForAncestorsSetting.get();\n    const promises = [];\n    promises.push(node.resolveToObject(objectGroupName));\n    if (!selectedNodeOnly) {\n      let currentNode: (SDK.DOMModel.DOMNode|null) = node.parentNode;\n      while (currentNode) {\n        promises.push(currentNode.resolveToObject(objectGroupName));\n        currentNode = currentNode.parentNode;\n      }\n      promises.push(this.windowObjectInNodeContext(node));\n    }\n    return Promise.all(promises)\n        .then(this.eventListenersView.addObjects.bind(this.eventListenersView))\n        .then(this.showFrameworkListenersChanged.bind(this));\n  }\n\n  toolbarItems(): UI.Toolbar.ToolbarItem[] {\n    return this.toolbarItemsInternal;\n  }\n\n  private onDispatchFilterTypeChanged(event: Event): void {\n    const filter = (event.target as HTMLInputElement);\n    this.dispatchFilterBySetting.set(filter.value);\n  }\n\n  private showFrameworkListenersChanged(): void {\n    const dispatchFilter = this.dispatchFilterBySetting.get();\n    const showPassive = dispatchFilter === DispatchFilterBy.All || dispatchFilter === DispatchFilterBy.Passive;\n    const showBlocking = dispatchFilter === DispatchFilterBy.All || dispatchFilter === DispatchFilterBy.Blocking;\n    this.eventListenersView.showFrameworkListeners(this.showFrameworkListenersSetting.get(), showPassive, showBlocking);\n  }\n\n  private windowObjectInNodeContext(node: SDK.DOMModel.DOMNode): Promise<SDK.RemoteObject.RemoteObject|null> {\n    const executionContexts = node.domModel().runtimeModel().executionContexts();\n    let context: SDK.RuntimeModel.ExecutionContext = executionContexts[0];\n    if (node.frameId()) {\n      for (let i = 0; i < executionContexts.length; ++i) {\n        const executionContext = executionContexts[i];\n        if (executionContext.frameId === node.frameId() && executionContext.isDefault) {\n          context = executionContext;\n        }\n      }\n    }\n\n    return context\n        .evaluate(\n            {\n              expression: 'self',\n              objectGroup: objectGroupName,\n              includeCommandLineAPI: false,\n              silent: true,\n              returnByValue: false,\n              generatePreview: false,\n              throwOnSideEffect: undefined,\n              timeout: undefined,\n              disableBreaks: undefined,\n              replMode: undefined,\n              allowUnsafeEvalBlockedByCSP: undefined,\n            },\n            /* userGesture */ false,\n            /* awaitPromise */ false)\n        .then(result => {\n          if ('object' in result) {\n            return result.object;\n          }\n          return null;\n        });\n  }\n\n  eventListenersArrivedForTest(): void {\n  }\n}\n\nexport const DispatchFilterBy = {\n  All: 'All',\n  Blocking: 'Blocking',\n  Passive: 'Passive',\n};\n\nconst objectGroupName = 'event-listeners-panel';\n"]}