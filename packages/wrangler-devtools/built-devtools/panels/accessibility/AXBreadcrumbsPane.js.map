{"version":3,"file":"AXBreadcrumbsPane.js","sourceRoot":"","sources":["../../../../../../front_end/panels/accessibility/AXBreadcrumbsPane.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Feedback from '../../ui/components/panel_feedback/panel_feedback.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport axBreadcrumbsStyles from './axBreadcrumbs.css.js';\n\nimport type * as Protocol from '../../generated/protocol.js';\n\nimport type {AccessibilitySidebarView} from './AccessibilitySidebarView.js';\nimport {AccessibilitySubPane} from './AccessibilitySubPane.js';\n\nconst UIStrings = {\n  /**\n  *@description Text in AXBreadcrumbs Pane of the Accessibility panel\n  */\n  accessibilityTree: 'Accessibility Tree',\n  /**\n  *@description Text to scroll the displayed content into view\n  */\n  scrollIntoView: 'Scroll into view',\n  /**\n  *@description Ignored node element text content in AXBreadcrumbs Pane of the Accessibility panel\n  */\n  ignored: 'Ignored',\n  /**\n  *@description Name for experimental tree toggle.\n  */\n  fullTreeExperimentName: 'Enable full-page accessibility tree',\n  /**\n  *@description Description text for experimental tree toggle.\n  */\n  fullTreeExperimentDescription: 'The accessibility tree moved to the top right corner of the DOM tree.',\n  /**\n  *@description Message saying that DevTools must be restarted before the experiment is enabled.\n  */\n  reloadRequired: 'Reload required before the change takes effect.',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/accessibility/AXBreadcrumbsPane.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AXBreadcrumbsPane extends AccessibilitySubPane {\n  private readonly axSidebarView: AccessibilitySidebarView;\n  private preselectedBreadcrumb: AXBreadcrumb|null;\n  private inspectedNodeBreadcrumb: AXBreadcrumb|null;\n  private collapsingBreadcrumbId: number;\n  private hoveredBreadcrumb: AXBreadcrumb|null;\n  private readonly rootElement: HTMLElement;\n  #legacyTreeDisabled = false;\n\n  constructor(axSidebarView: AccessibilitySidebarView) {\n    super(i18nString(UIStrings.accessibilityTree));\n\n    this.element.classList.add('ax-subpane');\n    this.element.tabIndex = -1;\n\n    this.axSidebarView = axSidebarView;\n    this.preselectedBreadcrumb = null;\n    this.inspectedNodeBreadcrumb = null;\n\n    this.collapsingBreadcrumbId = -1;\n\n    this.rootElement = this.element.createChild('div', 'ax-breadcrumbs');\n\n    this.hoveredBreadcrumb = null;\n    const previewToggle = new Feedback.PreviewToggle.PreviewToggle();\n    const name = i18nString(UIStrings.fullTreeExperimentName);\n    const experiment = Root.Runtime.ExperimentName.FULL_ACCESSIBILITY_TREE;\n    const onChangeCallback: (checked: boolean) => void = checked => {\n      Host.userMetrics.experimentChanged(experiment, checked);\n      UI.InspectorView.InspectorView.instance().displayReloadRequiredWarning(i18nString(UIStrings.reloadRequired));\n    };\n    if (Root.Runtime.experiments.isEnabled(experiment)) {\n      this.#legacyTreeDisabled = true;\n      const feedbackURL = 'https://g.co/devtools/a11y-tree-feedback';\n      previewToggle.data = {\n        name,\n        helperText: i18nString(UIStrings.fullTreeExperimentDescription),\n        feedbackURL,\n        experiment,\n        onChangeCallback,\n      };\n      this.element.appendChild(previewToggle);\n      return;\n    }\n    previewToggle.data = {name, helperText: null, feedbackURL: null, experiment, onChangeCallback};\n    this.element.prepend(previewToggle);\n\n    UI.ARIAUtils.markAsTree(this.rootElement);\n\n    this.rootElement.addEventListener('keydown', this.onKeyDown.bind(this), true);\n    this.rootElement.addEventListener('mousemove', this.onMouseMove.bind(this), false);\n    this.rootElement.addEventListener('mouseleave', this.onMouseLeave.bind(this), false);\n    this.rootElement.addEventListener('click', this.onClick.bind(this), false);\n    this.rootElement.addEventListener('contextmenu', this.contextMenuEventFired.bind(this), false);\n    this.rootElement.addEventListener('focusout', this.onFocusOut.bind(this), false);\n  }\n\n  focus(): void {\n    if (this.inspectedNodeBreadcrumb) {\n      this.inspectedNodeBreadcrumb.nodeElement().focus();\n    } else {\n      this.element.focus();\n    }\n  }\n\n  setAXNode(axNode: SDK.AccessibilityModel.AccessibilityNode|null): void {\n    if (this.#legacyTreeDisabled) {\n      return;\n    }\n    const hadFocus = this.element.hasFocus();\n    super.setAXNode(axNode);\n\n    this.rootElement.removeChildren();\n\n    if (!axNode) {\n      return;\n    }\n\n    const ancestorChain = [];\n    let ancestor: (SDK.AccessibilityModel.AccessibilityNode|null)|SDK.AccessibilityModel.AccessibilityNode = axNode;\n    while (ancestor) {\n      ancestorChain.push(ancestor);\n      ancestor = ancestor.parentNode();\n    }\n    ancestorChain.reverse();\n\n    let depth = 0;\n    let parent: AXBreadcrumb|null = null;\n    this.inspectedNodeBreadcrumb = null;\n    for (ancestor of ancestorChain) {\n      if (ancestor !== axNode && ancestor.ignored() && ancestor.parentNode()) {\n        continue;\n      }\n      const breadcrumb = new AXBreadcrumb(ancestor, depth, (ancestor === axNode));\n      if (parent) {\n        parent.appendChild(breadcrumb);\n      } else {\n        this.rootElement.appendChild(breadcrumb.element());\n      }\n      parent = breadcrumb;\n      depth++;\n      this.inspectedNodeBreadcrumb = breadcrumb;\n    }\n\n    if (this.inspectedNodeBreadcrumb) {\n      this.inspectedNodeBreadcrumb.setPreselected(true, hadFocus);\n    }\n\n    this.setPreselectedBreadcrumb(this.inspectedNodeBreadcrumb);\n\n    function append(\n        parentBreadcrumb: AXBreadcrumb, axNode: SDK.AccessibilityModel.AccessibilityNode, localDepth: number): void {\n      if (axNode.ignored()) {\n        axNode.children().map(child => append(parentBreadcrumb, child, localDepth));\n        return;\n      }\n      const childBreadcrumb = new AXBreadcrumb(axNode, localDepth, false);\n      parentBreadcrumb.appendChild(childBreadcrumb);\n\n      // In most cases there will be no children here, but there are some special cases.\n      for (const child of axNode.children()) {\n        append(childBreadcrumb, child, localDepth + 1);\n      }\n    }\n\n    if (this.inspectedNodeBreadcrumb && !axNode.ignored()) {\n      for (const child of axNode.children()) {\n        append(this.inspectedNodeBreadcrumb, child, depth);\n        if (child.backendDOMNodeId() === this.collapsingBreadcrumbId) {\n          this.setPreselectedBreadcrumb(this.inspectedNodeBreadcrumb.lastChild());\n        }\n      }\n    }\n    this.collapsingBreadcrumbId = -1;\n  }\n\n  willHide(): void {\n    this.setPreselectedBreadcrumb(null);\n  }\n\n  private onKeyDown(event: Event): void {\n    const preselectedBreadcrumb = this.preselectedBreadcrumb;\n    if (!preselectedBreadcrumb) {\n      return;\n    }\n    const keyboardEvent = event as KeyboardEvent;\n    if (!keyboardEvent.composedPath().some(element => element === preselectedBreadcrumb.element())) {\n      return;\n    }\n    if (keyboardEvent.shiftKey || keyboardEvent.metaKey || keyboardEvent.ctrlKey) {\n      return;\n    }\n\n    let handled = false;\n    if (keyboardEvent.key === 'ArrowUp' && !keyboardEvent.altKey) {\n      handled = this.preselectPrevious();\n    } else if ((keyboardEvent.key === 'ArrowDown') && !keyboardEvent.altKey) {\n      handled = this.preselectNext();\n    } else if (keyboardEvent.key === 'ArrowLeft' && !keyboardEvent.altKey) {\n      if (preselectedBreadcrumb.hasExpandedChildren()) {\n        this.collapseBreadcrumb(preselectedBreadcrumb);\n      } else {\n        handled = this.preselectParent();\n      }\n    } else if ((keyboardEvent.key === 'Enter' ||\n                (keyboardEvent.key === 'ArrowRight' && !keyboardEvent.altKey &&\n                 preselectedBreadcrumb.axNode().hasOnlyUnloadedChildren()))) {\n      handled = this.inspectDOMNode(preselectedBreadcrumb.axNode());\n    }\n\n    if (handled) {\n      keyboardEvent.consume(true);\n    }\n  }\n\n  private preselectPrevious(): boolean {\n    if (!this.preselectedBreadcrumb) {\n      return false;\n    }\n    const previousBreadcrumb = this.preselectedBreadcrumb.previousBreadcrumb();\n    if (!previousBreadcrumb) {\n      return false;\n    }\n    this.setPreselectedBreadcrumb(previousBreadcrumb);\n    return true;\n  }\n\n  private preselectNext(): boolean {\n    if (!this.preselectedBreadcrumb) {\n      return false;\n    }\n    const nextBreadcrumb = this.preselectedBreadcrumb.nextBreadcrumb();\n    if (!nextBreadcrumb) {\n      return false;\n    }\n    this.setPreselectedBreadcrumb(nextBreadcrumb);\n    return true;\n  }\n\n  private preselectParent(): boolean {\n    if (!this.preselectedBreadcrumb) {\n      return false;\n    }\n    const parentBreadcrumb = this.preselectedBreadcrumb.parentBreadcrumb();\n    if (!parentBreadcrumb) {\n      return false;\n    }\n    this.setPreselectedBreadcrumb(parentBreadcrumb);\n    return true;\n  }\n\n  private setPreselectedBreadcrumb(breadcrumb: AXBreadcrumb|null): void {\n    if (breadcrumb === this.preselectedBreadcrumb) {\n      return;\n    }\n    const hadFocus = this.element.hasFocus();\n    if (this.preselectedBreadcrumb) {\n      this.preselectedBreadcrumb.setPreselected(false, hadFocus);\n    }\n\n    if (breadcrumb) {\n      this.preselectedBreadcrumb = breadcrumb;\n    } else {\n      this.preselectedBreadcrumb = this.inspectedNodeBreadcrumb;\n    }\n    if (this.preselectedBreadcrumb) {\n      this.preselectedBreadcrumb.setPreselected(true, hadFocus);\n    }\n    if (!breadcrumb && hadFocus) {\n      SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n    }\n  }\n\n  private collapseBreadcrumb(breadcrumb: AXBreadcrumb): void {\n    if (!breadcrumb.parentBreadcrumb()) {\n      return;\n    }\n    const backendNodeId = breadcrumb.axNode().backendDOMNodeId();\n    if (backendNodeId !== null) {\n      this.collapsingBreadcrumbId = backendNodeId;\n    }\n    const parentBreadcrumb = breadcrumb.parentBreadcrumb();\n    if (parentBreadcrumb) {\n      this.inspectDOMNode(parentBreadcrumb.axNode());\n    }\n  }\n\n  private onMouseLeave(_event: Event): void {\n    this.setHoveredBreadcrumb(null);\n  }\n\n  private onMouseMove(event: Event): void {\n    const target = event.target as Element | null;\n    if (!target) {\n      return;\n    }\n    const breadcrumbElement = target.enclosingNodeOrSelfWithClass('ax-breadcrumb');\n    if (!breadcrumbElement) {\n      this.setHoveredBreadcrumb(null);\n      return;\n    }\n    const breadcrumb = elementsToAXBreadcrumb.get(breadcrumbElement);\n    if (!breadcrumb || !breadcrumb.isDOMNode()) {\n      return;\n    }\n    this.setHoveredBreadcrumb(breadcrumb);\n  }\n\n  private onFocusOut(event: Event): void {\n    if (!this.preselectedBreadcrumb || event.target !== this.preselectedBreadcrumb.nodeElement()) {\n      return;\n    }\n    this.setPreselectedBreadcrumb(null);\n  }\n\n  private onClick(event: Event): void {\n    const target = event.target as Element | null;\n    if (!target) {\n      return;\n    }\n    const breadcrumbElement = target.enclosingNodeOrSelfWithClass('ax-breadcrumb');\n    if (!breadcrumbElement) {\n      this.setHoveredBreadcrumb(null);\n      return;\n    }\n    const breadcrumb = elementsToAXBreadcrumb.get(breadcrumbElement);\n    if (!breadcrumb) {\n      return;\n    }\n    if (breadcrumb.inspected()) {\n      // This will collapse and preselect/focus the breadcrumb.\n      this.collapseBreadcrumb(breadcrumb);\n      breadcrumb.nodeElement().focus();\n      return;\n    }\n    if (!breadcrumb.isDOMNode()) {\n      return;\n    }\n    this.inspectDOMNode(breadcrumb.axNode());\n  }\n\n  private setHoveredBreadcrumb(breadcrumb: AXBreadcrumb|null): void {\n    if (breadcrumb === this.hoveredBreadcrumb) {\n      return;\n    }\n\n    if (this.hoveredBreadcrumb) {\n      this.hoveredBreadcrumb.setHovered(false);\n    }\n    const node = this.node();\n    if (breadcrumb) {\n      breadcrumb.setHovered(true);\n    } else if (node && node.id) {\n      // Highlight and scroll into view the currently inspected node.\n      node.domModel().overlayModel().nodeHighlightRequested({nodeId: node.id});\n    }\n\n    this.hoveredBreadcrumb = breadcrumb;\n  }\n\n  private inspectDOMNode(axNode: SDK.AccessibilityModel.AccessibilityNode): boolean {\n    if (!axNode.isDOMNode()) {\n      return false;\n    }\n\n    const deferredNode = axNode.deferredDOMNode();\n    if (deferredNode) {\n      deferredNode.resolve(domNode => {\n        this.axSidebarView.setNode(domNode, true /* fromAXTree */);\n        void Common.Revealer.reveal(domNode, true /* omitFocus */);\n      });\n    }\n\n    return true;\n  }\n\n  private contextMenuEventFired(event: Event): void {\n    const target = event.target as Element | null;\n    if (!target) {\n      return;\n    }\n    const breadcrumbElement = target.enclosingNodeOrSelfWithClass('ax-breadcrumb');\n    if (!breadcrumbElement) {\n      return;\n    }\n\n    const breadcrumb = elementsToAXBreadcrumb.get(breadcrumbElement);\n    if (!breadcrumb) {\n      return;\n    }\n\n    const axNode = breadcrumb.axNode();\n    if (!axNode.isDOMNode() || !axNode.deferredDOMNode()) {\n      return;\n    }\n\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    contextMenu.viewSection().appendItem(i18nString(UIStrings.scrollIntoView), () => {\n      const deferredNode = axNode.deferredDOMNode();\n      if (!deferredNode) {\n        return;\n      }\n      void deferredNode.resolvePromise().then(domNode => {\n        if (!domNode) {\n          return;\n        }\n        void domNode.scrollIntoView();\n      });\n    });\n\n    const deferredNode = axNode.deferredDOMNode();\n    if (deferredNode) {\n      contextMenu.appendApplicableItems(deferredNode);\n    }\n    void contextMenu.show();\n  }\n  wasShown(): void {\n    super.wasShown();\n    this.registerCSSFiles([axBreadcrumbsStyles]);\n  }\n}\n\nconst elementsToAXBreadcrumb = new WeakMap<Element, AXBreadcrumb>();\n\nexport class AXBreadcrumb {\n  private readonly axNodeInternal: SDK.AccessibilityModel.AccessibilityNode;\n  private readonly elementInternal: HTMLDivElement;\n  private nodeElementInternal: HTMLDivElement;\n  private readonly nodeWrapper: HTMLDivElement;\n  private readonly selectionElement: HTMLDivElement;\n  private readonly childrenGroupElement: HTMLDivElement;\n  private readonly children: AXBreadcrumb[];\n  private hovered: boolean;\n  private preselectedInternal: boolean;\n  private parent: AXBreadcrumb|null;\n  private inspectedInternal: boolean;\n  constructor(axNode: SDK.AccessibilityModel.AccessibilityNode, depth: number, inspected: boolean) {\n    this.axNodeInternal = axNode;\n\n    this.elementInternal = document.createElement('div');\n    this.elementInternal.classList.add('ax-breadcrumb');\n    elementsToAXBreadcrumb.set(this.elementInternal, this);\n\n    this.nodeElementInternal = document.createElement('div');\n    this.nodeElementInternal.classList.add('ax-node');\n    UI.ARIAUtils.markAsTreeitem(this.nodeElementInternal);\n    this.nodeElementInternal.tabIndex = -1;\n    this.elementInternal.appendChild(this.nodeElementInternal);\n    this.nodeWrapper = document.createElement('div');\n    this.nodeWrapper.classList.add('wrapper');\n    this.nodeElementInternal.appendChild(this.nodeWrapper);\n\n    this.selectionElement = document.createElement('div');\n    this.selectionElement.classList.add('selection');\n    this.selectionElement.classList.add('fill');\n    this.nodeElementInternal.appendChild(this.selectionElement);\n\n    this.childrenGroupElement = document.createElement('div');\n    this.childrenGroupElement.classList.add('children');\n    UI.ARIAUtils.markAsGroup(this.childrenGroupElement);\n    this.elementInternal.appendChild(this.childrenGroupElement);\n\n    this.children = [];\n    this.hovered = false;\n    this.preselectedInternal = false;\n    this.parent = null;\n\n    this.inspectedInternal = inspected;\n    this.nodeElementInternal.classList.toggle('inspected', inspected);\n\n    this.nodeElementInternal.style.paddingLeft = (16 * depth + 4) + 'px';\n\n    if (this.axNodeInternal.ignored()) {\n      this.appendIgnoredNodeElement();\n    } else {\n      this.appendRoleElement(this.axNodeInternal.role());\n      const axNodeName = this.axNodeInternal.name();\n      if (axNodeName && axNodeName.value) {\n        this.nodeWrapper.createChild('span', 'separator').textContent = '\\xA0';\n        this.appendNameElement(axNodeName.value as string);\n      }\n    }\n\n    if (!this.axNodeInternal.ignored() && this.axNodeInternal.hasOnlyUnloadedChildren()) {\n      this.nodeElementInternal.classList.add('children-unloaded');\n      UI.ARIAUtils.setExpanded(this.nodeElementInternal, false);\n    }\n\n    if (!this.axNodeInternal.isDOMNode()) {\n      this.nodeElementInternal.classList.add('no-dom-node');\n    }\n  }\n\n  element(): HTMLElement {\n    return this.elementInternal;\n  }\n\n  nodeElement(): HTMLElement {\n    return this.nodeElementInternal;\n  }\n\n  appendChild(breadcrumb: AXBreadcrumb): void {\n    this.children.push(breadcrumb);\n    breadcrumb.setParent(this);\n    this.nodeElementInternal.classList.add('parent');\n    UI.ARIAUtils.setExpanded(this.nodeElementInternal, true);\n    this.childrenGroupElement.appendChild(breadcrumb.element());\n  }\n\n  hasExpandedChildren(): number {\n    return this.children.length;\n  }\n\n  setParent(breadcrumb: AXBreadcrumb): void {\n    this.parent = breadcrumb;\n  }\n\n  preselected(): boolean {\n    return this.preselectedInternal;\n  }\n\n  setPreselected(preselected: boolean, selectedByUser: boolean): void {\n    if (this.preselectedInternal === preselected) {\n      return;\n    }\n    this.preselectedInternal = preselected;\n    this.nodeElementInternal.classList.toggle('preselected', preselected);\n    if (preselected) {\n      this.nodeElementInternal.tabIndex = 0;\n    } else {\n      this.nodeElementInternal.tabIndex = -1;\n    }\n    if (this.preselectedInternal) {\n      if (selectedByUser) {\n        this.nodeElementInternal.focus();\n      }\n      if (!this.inspectedInternal) {\n        this.axNodeInternal.highlightDOMNode();\n      } else {\n        SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n      }\n    }\n  }\n\n  setHovered(hovered: boolean): void {\n    if (this.hovered === hovered) {\n      return;\n    }\n    this.hovered = hovered;\n    this.nodeElementInternal.classList.toggle('hovered', hovered);\n    if (this.hovered) {\n      this.nodeElementInternal.classList.toggle('hovered', true);\n      this.axNodeInternal.highlightDOMNode();\n    }\n  }\n\n  axNode(): SDK.AccessibilityModel.AccessibilityNode {\n    return this.axNodeInternal;\n  }\n\n  inspected(): boolean {\n    return this.inspectedInternal;\n  }\n\n  isDOMNode(): boolean {\n    return this.axNodeInternal.isDOMNode();\n  }\n\n  nextBreadcrumb(): AXBreadcrumb|null {\n    if (this.children.length) {\n      return this.children[0];\n    }\n    const nextSibling = this.element().nextSibling;\n    if (nextSibling) {\n      return elementsToAXBreadcrumb.get(nextSibling as HTMLElement) || null;\n    }\n    return null;\n  }\n\n  previousBreadcrumb(): AXBreadcrumb|null {\n    const previousSibling = this.element().previousSibling;\n    if (previousSibling) {\n      return elementsToAXBreadcrumb.get(previousSibling as HTMLElement) || null;\n    }\n\n    return this.parent;\n  }\n\n  parentBreadcrumb(): AXBreadcrumb|null {\n    return this.parent;\n  }\n\n  lastChild(): AXBreadcrumb {\n    return this.children[this.children.length - 1];\n  }\n\n  private appendNameElement(name: string): void {\n    const nameElement = document.createElement('span');\n    nameElement.textContent = '\"' + name + '\"';\n    nameElement.classList.add('ax-readable-string');\n    this.nodeWrapper.appendChild(nameElement);\n  }\n\n  private appendRoleElement(role: Protocol.Accessibility.AXValue|null): void {\n    if (!role) {\n      return;\n    }\n\n    const roleElement = document.createElement('span');\n    roleElement.classList.add('monospace');\n    roleElement.classList.add(RoleStyles[role.type]);\n    roleElement.setTextContentTruncatedIfNeeded(role.value || '');\n\n    this.nodeWrapper.appendChild(roleElement);\n  }\n\n  private appendIgnoredNodeElement(): void {\n    const ignoredNodeElement = document.createElement('span');\n    ignoredNodeElement.classList.add('monospace');\n    ignoredNodeElement.textContent = i18nString(UIStrings.ignored);\n    ignoredNodeElement.classList.add('ax-breadcrumbs-ignored-node');\n    this.nodeWrapper.appendChild(ignoredNodeElement);\n  }\n}\n\ntype RoleStyles = {\n  [type: string]: string,\n};\n\nexport const RoleStyles: RoleStyles = {\n  internalRole: 'ax-internal-role',\n  role: 'ax-role',\n};\n"]}