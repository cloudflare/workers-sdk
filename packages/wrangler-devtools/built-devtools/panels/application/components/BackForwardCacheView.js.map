{"version":3,"file":"BackForwardCacheView.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/application/components/BackForwardCacheView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as Platform from '../../../core/platform/platform.js';\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as Buttons from '../../../ui/components/buttons/buttons.js';\nimport * as SDK from '../../../core/sdk/sdk.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\nimport * as Root from '../../../core/root/root.js';\nimport * as ReportView from '../../../ui/components/report_view/report_view.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as Protocol from '../../../generated/protocol.js';\nimport * as IconButton from '../../../ui/components/icon_button/icon_button.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as Coordinator from '../../../ui/components/render_coordinator/render_coordinator.js';\nimport * as ChromeLink from '../../../ui/components/chrome_link/chrome_link.js';\nimport * as ExpandableList from '../../../ui/components/expandable_list/expandable_list.js';\n\nimport {NotRestoredReasonDescription} from './BackForwardCacheStrings.js';\nimport backForwardCacheViewStyles from './backForwardCacheView.css.js';\n\nconst UIStrings = {\n  /**\n   * @description Title text in back/forward cache view of the Application panel\n   */\n  mainFrame: 'Main Frame',\n  /**\n   * @description Title text in back/forward cache view of the Application panel\n   */\n  backForwardCacheTitle: 'Back/forward cache',\n  /**\n   * @description Status text for the status of the main frame\n   */\n  unavailable: 'unavailable',\n  /**\n   * @description Entry name text in the back/forward cache view of the Application panel\n   */\n  url: 'URL:',\n  /**\n   * @description Status text for the status of the back/forward cache status\n   */\n  unknown: 'Unknown Status',\n  /**\n   * @description Status text for the status of the back/forward cache status indicating that\n   * the back/forward cache was not used and a normal navigation occured instead.\n   */\n  normalNavigation:\n      'Not served from back/forward cache: to trigger back/forward cache, use Chrome\\'s back/forward buttons, or use the test button below to automatically navigate away and back.',\n  /**\n   * @description Status text for the status of the back/forward cache status indicating that\n   * the back/forward cache was used to restore the page instead of reloading it.\n   */\n  restoredFromBFCache: 'Successfully served from back/forward cache.',\n  /**\n   * @description Label for a list of reasons which prevent the page from being eligible for\n   * back/forward cache. These reasons are actionable i.e. they can be cleaned up to make the\n   * page eligible for back/forward cache.\n   */\n  pageSupportNeeded: 'Actionable',\n  /**\n   * @description Explanation for actionable items which prevent the page from being eligible\n   * for back/forward cache.\n   */\n  pageSupportNeededExplanation:\n      'These reasons are actionable i.e. they can be cleaned up to make the page eligible for back/forward cache.',\n  /**\n   * @description Label for a list of reasons which prevent the page from being eligible for\n   * back/forward cache. These reasons are circumstantial / not actionable i.e. they cannot be\n   * cleaned up by developers to make the page eligible for back/forward cache.\n   */\n  circumstantial: 'Not Actionable',\n  /**\n   * @description Explanation for circumstantial/non-actionable items which prevent the page from being eligible\n   * for back/forward cache.\n   */\n  circumstantialExplanation:\n      'These reasons are not actionable i.e. caching was prevented by something outside of the direct control of the page.',\n  /**\n   * @description Label for a list of reasons which prevent the page from being eligible for\n   * back/forward cache. These reasons are pending support by chrome i.e. in a future version\n   * of chrome they will not prevent back/forward cache usage anymore.\n   */\n  supportPending: 'Pending Support',\n  /**\n   * @description Label for the button to test whether BFCache is available for the page\n   */\n  runTest: 'Test back/forward cache',\n  /**\n   * @description Label for the disabled button while the test is running\n   */\n  runningTest: 'Running test',\n  /**\n   * @description Link Text about explanation of back/forward cache\n   */\n  learnMore: 'Learn more: back/forward cache eligibility',\n  /**\n   * @description Link Text about unload handler\n   */\n  neverUseUnload: 'Learn more: Never use unload handler',\n  /**\n   * @description Explanation for 'pending support' items which prevent the page from being eligible\n   * for back/forward cache.\n   */\n  supportPendingExplanation:\n      'Chrome support for these reasons is pending i.e. they will not prevent the page from being eligible for back/forward cache in a future version of Chrome.',\n  /**\n   * @description Text that precedes displaying a link to the extension which blocked the page from being eligible for back/forward cache.\n   */\n  blockingExtensionId: 'Extension id: ',\n  /**\n   * @description Label for the 'Frames' section of the back/forward cache view, which shows a frame tree of the\n   * page with reasons why the frames can't be cached.\n   */\n  framesTitle: 'Frames',\n  /**\n   * @description Top level summary of the total number of issues found in a single frame.\n   */\n  issuesInSingleFrame: '{n, plural, =1 {# issue found in 1 frame.} other {# issues found in 1 frame.}}',\n  /**\n   * @description Top level summary of the total number of issues found and the number of frames they were found in.\n   * 'm' is never less than 2.\n   * @example {3} m\n   */\n  issuesInMultipleFrames: '{n, plural, =1 {# issue found in {m} frames.} other {# issues found in {m} frames.}}',\n  /**\n   * @description Shows the number of frames with a particular issue.\n   */\n  framesPerIssue: '{n, plural, =1 {# frame} other {# frames}}',\n  /**\n  *@description Title for a frame in the frame tree that doesn't have a URL. Placeholder indicates which number frame with a blank URL it is.\n  *@example {3} PH1\n  */\n  blankURLTitle: 'Blank URL [{PH1}]',\n};\n\nconst str_ = i18n.i18n.registerUIStrings('panels/application/components/BackForwardCacheView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst enum ScreenStatusType {\n  Running = 'Running',\n  Result = 'Result',\n}\n\nexport class BackForwardCacheViewWrapper extends UI.ThrottledWidget.ThrottledWidget {\n  readonly #bfcacheView = new BackForwardCacheView();\n\n  constructor() {\n    super(true, 1000);\n    this.#getMainResourceTreeModel()?.addEventListener(\n        SDK.ResourceTreeModel.Events.MainFrameNavigated, this.update, this);\n    this.#getMainResourceTreeModel()?.addEventListener(\n        SDK.ResourceTreeModel.Events.BackForwardCacheDetailsUpdated, this.update, this);\n    this.contentElement.classList.add('overflow-auto');\n    this.contentElement.appendChild(this.#bfcacheView);\n    this.update();\n  }\n\n  async doUpdate(): Promise<void> {\n    this.#bfcacheView.data = {frame: this.#getMainFrame()};\n  }\n\n  #getMainResourceTreeModel(): SDK.ResourceTreeModel.ResourceTreeModel|null {\n    const mainTarget = SDK.TargetManager.TargetManager.instance().mainTarget();\n    return mainTarget?.model(SDK.ResourceTreeModel.ResourceTreeModel) || null;\n  }\n\n  #getMainFrame(): SDK.ResourceTreeModel.ResourceTreeFrame|null {\n    return this.#getMainResourceTreeModel()?.mainFrame || null;\n  }\n}\n\nconst coordinator = Coordinator.RenderCoordinator.RenderCoordinator.instance();\n\nexport interface BackForwardCacheViewData {\n  frame: SDK.ResourceTreeModel.ResourceTreeFrame|null;\n}\n\nexport class BackForwardCacheView extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`devtools-resources-back-forward-cache-view`;\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #frame: SDK.ResourceTreeModel.ResourceTreeFrame|null = null;\n  #screenStatus = ScreenStatusType.Result;\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [backForwardCacheViewStyles];\n  }\n\n  set data(data: BackForwardCacheViewData) {\n    this.#frame = data.frame;\n    void this.#render();\n  }\n\n  async #render(): Promise<void> {\n    await coordinator.write('BackForwardCacheView render', () => {\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      LitHtml.render(LitHtml.html`\n        <${ReportView.ReportView.Report.litTagName} .data=${\n            {reportTitle: i18nString(UIStrings.backForwardCacheTitle)} as ReportView.ReportView.ReportData\n        }>\n          ${this.#renderMainFrameInformation()}\n        </${ReportView.ReportView.Report.litTagName}>\n      `, this.#shadow, {host: this});\n      // clang-format on\n    });\n  }\n\n  #renderBackForwardCacheTestResult(): void {\n    SDK.TargetManager.TargetManager.instance().removeModelListener(\n        SDK.ResourceTreeModel.ResourceTreeModel, SDK.ResourceTreeModel.Events.FrameNavigated,\n        this.#renderBackForwardCacheTestResult, this);\n    this.#screenStatus = ScreenStatusType.Result;\n    void this.#render();\n  }\n\n  async #goBackOneHistoryEntry(): Promise<void> {\n    SDK.TargetManager.TargetManager.instance().removeModelListener(\n        SDK.ResourceTreeModel.ResourceTreeModel, SDK.ResourceTreeModel.Events.FrameNavigated,\n        this.#goBackOneHistoryEntry, this);\n    this.#screenStatus = ScreenStatusType.Running;\n    void this.#render();\n    const mainTarget = SDK.TargetManager.TargetManager.instance().mainTarget();\n    if (!mainTarget) {\n      return;\n    }\n    const resourceTreeModel = mainTarget.model(SDK.ResourceTreeModel.ResourceTreeModel);\n    if (!resourceTreeModel) {\n      return;\n    }\n    const historyResults = await resourceTreeModel.navigationHistory();\n    if (!historyResults) {\n      return;\n    }\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.ResourceTreeModel.ResourceTreeModel, SDK.ResourceTreeModel.Events.FrameNavigated,\n        this.#renderBackForwardCacheTestResult, this);\n    resourceTreeModel.navigateToHistoryEntry(historyResults.entries[historyResults.currentIndex - 1]);\n  }\n\n  async #navigateAwayAndBack(): Promise<void> {\n    // Checking BFCache Compatibility\n\n    const mainTarget = SDK.TargetManager.TargetManager.instance().mainTarget();\n    if (!mainTarget) {\n      return;\n    }\n    const resourceTreeModel = mainTarget.model(SDK.ResourceTreeModel.ResourceTreeModel);\n\n    if (resourceTreeModel) {\n      // This event is removed by inside of goBackOneHistoryEntry().\n      SDK.TargetManager.TargetManager.instance().addModelListener(\n          SDK.ResourceTreeModel.ResourceTreeModel, SDK.ResourceTreeModel.Events.FrameNavigated,\n          this.#goBackOneHistoryEntry, this);\n\n      // We can know whether the current page can use BFCache\n      // as the browser navigates to another unrelated page and goes back to the current page.\n      // We chose \"chrome://terms\" because it must be cross-site.\n      // Ideally, We want to have our own testing page like \"chrome: //bfcache-test\".\n      void resourceTreeModel.navigate('chrome://terms' as Platform.DevToolsPath.UrlString);\n    }\n  }\n\n  #renderMainFrameInformation(): LitHtml.TemplateResult {\n    if (!this.#frame) {\n      // clang-format off\n      return LitHtml.html`\n        <${ReportView.ReportView.ReportKey.litTagName}>\n          ${i18nString(UIStrings.mainFrame)}\n        </${ReportView.ReportView.ReportKey.litTagName}>\n        <${ReportView.ReportView.ReportValue.litTagName}>\n          ${i18nString(UIStrings.unavailable)}\n        </${ReportView.ReportView.ReportValue.litTagName}>\n      `;\n      // clang-format on\n    }\n    const isTestRunning = (this.#screenStatus === ScreenStatusType.Running);\n    // Prevent running BFCache test on the DevTools window itself via DevTools on DevTools\n    const isTestingForbidden = this.#frame.url.startsWith('devtools://');\n    // clang-format off\n    return LitHtml.html`\n      ${this.#renderBackForwardCacheStatus(this.#frame.backForwardCacheDetails.restoredFromCache)}\n      <div class='report-line'>\n        <div class='report-key'>\n          ${i18nString(UIStrings.url)}\n        </div>\n        <div class='report-value'>\n          ${this.#frame.url}\n        </div>\n      </div>\n      ${this.#maybeRenderFrameTree(this.#frame.backForwardCacheDetails.explanationsTree)}\n      <${ReportView.ReportView.ReportSection.litTagName}>\n        <${Buttons.Button.Button.litTagName}\n          .disabled=${isTestRunning || isTestingForbidden}\n          .spinner=${isTestRunning}\n          .variant=${Buttons.Button.Variant.PRIMARY}\n          @click=${this.#navigateAwayAndBack}>\n          ${isTestRunning ? LitHtml.html`\n            ${i18nString(UIStrings.runningTest)}`:`\n            ${i18nString(UIStrings.runTest)}\n          `}\n        </${Buttons.Button.Button.litTagName}>\n      </${ReportView.ReportView.ReportSection.litTagName}>\n      <${ReportView.ReportView.ReportSectionDivider.litTagName}>\n      </${ReportView.ReportView.ReportSectionDivider.litTagName}>\n      ${this.#maybeRenderExplanations(this.#frame.backForwardCacheDetails.explanations,\n          this.#frame.backForwardCacheDetails.explanationsTree)}\n      <${ReportView.ReportView.ReportSection.litTagName}>\n        <x-link href=\"https://web.dev/bfcache/\" class=\"link\">\n          ${i18nString(UIStrings.learnMore)}\n        </x-link>\n      </${ReportView.ReportView.ReportSection.litTagName}>\n    `;\n    // clang-format on\n  }\n\n  #maybeRenderFrameTree(explanationTree: Protocol.Page.BackForwardCacheNotRestoredExplanationTree|\n                        undefined): LitHtml.LitTemplate {\n    if (!explanationTree || (explanationTree.explanations.length === 0 && explanationTree.children.length === 0) ||\n        !Root.Runtime.experiments.isEnabled('bfcacheDisplayTree')) {\n      return LitHtml.nothing;\n    }\n    const treeOutline = new UI.TreeOutline.TreeOutlineInShadow();\n    treeOutline.registerCSSFiles([backForwardCacheViewStyles]);\n    const urlTreeElement = new UI.TreeOutline.TreeElement();\n    treeOutline.appendChild(urlTreeElement);\n    const {frameCount, issueCount} = this.#maybeAddFrameSubTree(urlTreeElement, {blankCount: 1}, explanationTree);\n    // The translation pipeline does not support nested plurals. We avoid this\n    // here by pulling out the logic for one of the plurals into code instead.\n    if (frameCount === 1) {\n      urlTreeElement.title = i18nString(UIStrings.issuesInSingleFrame, {n: issueCount});\n    } else {\n      urlTreeElement.title = i18nString(UIStrings.issuesInMultipleFrames, {n: issueCount, m: frameCount});\n    }\n    // The first element is always the root, so expand it by default (and override its icon).\n    const topFrameElement = urlTreeElement.childAt(0);\n    if (topFrameElement) {\n      topFrameElement.expand();\n      topFrameElement.setLeadingIcons([UI.Icon.Icon.create('mediumicon-frame')]);\n    }\n    return LitHtml.html`\n    <div class='report-line'>\n    <div class='report-key'>\n      ${i18nString(UIStrings.framesTitle)}\n    </div>\n    <div class='report-value'>\n      ${treeOutline.element}\n    </div>\n  </div>`;\n  }\n\n  // Potentially adds a subtree of the frame tree, if there are any issues. Returns a tuple of how many frames were added,\n  // and how many issues there were in total over all those frames.\n  #maybeAddFrameSubTree(\n      root: UI.TreeOutline.TreeElement, nextBlankURLCount: {blankCount: number},\n      explanationTree: Protocol.Page.BackForwardCacheNotRestoredExplanationTree|\n      undefined): {frameCount: number, issueCount: number} {\n    if (!explanationTree || (explanationTree.explanations.length === 0 && explanationTree.children.length === 0)) {\n      return {frameCount: 0, issueCount: 0};\n    }\n    const icon = UI.Icon.Icon.create('mediumicon-frame-embedded');\n    let issuecount = explanationTree.explanations.length;\n    let framecount = 0;\n    let treeElementURL: string;\n    if (explanationTree.url.length > 0) {\n      treeElementURL = explanationTree.url;\n    } else {\n      treeElementURL = i18nString(UIStrings.blankURLTitle, {PH1: String(nextBlankURLCount.blankCount)});\n      nextBlankURLCount.blankCount += 1;\n    }\n    const urlTreeElement = new UI.TreeOutline.TreeElement();\n    root.appendChild(urlTreeElement);\n    urlTreeElement.setLeadingIcons([icon]);\n    explanationTree.explanations.forEach(explanation => {\n      urlTreeElement.appendChild(new UI.TreeOutline.TreeElement(explanation.reason));\n    });\n    explanationTree.children.forEach(child => {\n      const counts = this.#maybeAddFrameSubTree(urlTreeElement, nextBlankURLCount, child);\n      framecount += counts.frameCount;\n      issuecount += counts.issueCount;\n    });\n    if (issuecount > 0) {\n      urlTreeElement.title = '(' + String(issuecount) + ') ' + treeElementURL;\n      framecount += 1;\n    } else if (framecount === 0) {\n      root.removeChild(urlTreeElement);\n    }\n\n    return {frameCount: framecount, issueCount: issuecount};\n  }\n\n  #renderBackForwardCacheStatus(status: boolean|undefined): LitHtml.TemplateResult {\n    switch (status) {\n      case true:\n        // clang-format off\n        return LitHtml.html`\n          <${ReportView.ReportView.ReportSection.litTagName}>\n            <div class='status'>\n              <${IconButton.Icon.Icon.litTagName} class=\"inline-icon\" .data=${{\n                iconName: 'ic_checkmark_16x16',\n                color: 'green',\n                width: '16px',\n                height: '16px',\n                } as IconButton.Icon.IconData}>\n              </${IconButton.Icon.Icon.litTagName}>\n            </div>\n            ${i18nString(UIStrings.restoredFromBFCache)}\n          </${ReportView.ReportView.ReportSection.litTagName}>\n        `;\n        // clang-format on\n      case false:\n        // clang-format off\n        return LitHtml.html`\n          <${ReportView.ReportView.ReportSection.litTagName}>\n            <div class='status'>\n              <${IconButton.Icon.Icon.litTagName} class=\"inline-icon\" .data=${{\n                  iconName: 'circled_backslash_icon',\n                  color: 'var(--color-text-secondary)',\n                  width: '16px',\n                  height: '16px',\n                  } as IconButton.Icon.IconData}>\n              </${IconButton.Icon.Icon.litTagName}>\n            </div>\n            ${i18nString(UIStrings.normalNavigation)}\n          </${ReportView.ReportView.ReportSection.litTagName}>\n        `;\n        // clang-format on\n    }\n    // clang-format off\n    return LitHtml.html`\n    <${ReportView.ReportView.ReportSection.litTagName}>\n      ${i18nString(UIStrings.unknown)}\n    </${ReportView.ReportView.ReportSection.litTagName}>\n    `;\n    // clang-format on\n  }\n\n  #buildReasonToFramesMap(\n      explanationTree: Protocol.Page.BackForwardCacheNotRestoredExplanationTree,\n      nextBlankURLCount: {blankCount: number},\n      outputMap: Map<Protocol.Page.BackForwardCacheNotRestoredReason, string[]>): void {\n    let url = explanationTree.url;\n    if (url.length === 0) {\n      url = i18nString(UIStrings.blankURLTitle, {PH1: String(nextBlankURLCount.blankCount)});\n      nextBlankURLCount.blankCount += 1;\n    }\n    explanationTree.explanations.forEach(explanation => {\n      let frames: string[]|undefined = outputMap.get(explanation.reason);\n      if (frames === undefined) {\n        frames = [url];\n        outputMap.set(explanation.reason, frames);\n      } else {\n        frames.push(url);\n      }\n    });\n    explanationTree.children.map(child => {\n      this.#buildReasonToFramesMap(child, nextBlankURLCount, outputMap);\n    });\n  }\n\n  #maybeRenderExplanations(\n      explanations: Protocol.Page.BackForwardCacheNotRestoredExplanation[],\n      explanationTree: Protocol.Page.BackForwardCacheNotRestoredExplanationTree|undefined): LitHtml.LitTemplate {\n    if (explanations.length === 0) {\n      return LitHtml.nothing;\n    }\n\n    const pageSupportNeeded = explanations.filter(\n        explanation => explanation.type === Protocol.Page.BackForwardCacheNotRestoredReasonType.PageSupportNeeded);\n    const supportPending = explanations.filter(\n        explanation => explanation.type === Protocol.Page.BackForwardCacheNotRestoredReasonType.SupportPending);\n    const circumstantial = explanations.filter(\n        explanation => explanation.type === Protocol.Page.BackForwardCacheNotRestoredReasonType.Circumstantial);\n\n    const reasonToFramesMap: Map<Protocol.Page.BackForwardCacheNotRestoredReason, string[]> = new Map();\n    if (explanationTree) {\n      this.#buildReasonToFramesMap(explanationTree, {blankCount: 1}, reasonToFramesMap);\n    }\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return LitHtml.html`\n      ${this.#renderExplanations(i18nString(UIStrings.pageSupportNeeded), i18nString(UIStrings.pageSupportNeededExplanation), pageSupportNeeded, reasonToFramesMap)}\n      ${this.#renderExplanations(i18nString(UIStrings.supportPending), i18nString(UIStrings.supportPendingExplanation), supportPending, reasonToFramesMap)}\n      ${this.#renderExplanations(i18nString(UIStrings.circumstantial), i18nString(UIStrings.circumstantialExplanation), circumstantial, reasonToFramesMap)}\n    `;\n    // clang-format on\n  }\n\n  #renderExplanations(\n      category: Platform.UIString.LocalizedString, explainerText: Platform.UIString.LocalizedString,\n      explanations: Protocol.Page.BackForwardCacheNotRestoredExplanation[],\n      reasonToFramesMap: Map<Protocol.Page.BackForwardCacheNotRestoredReason, string[]>): LitHtml.TemplateResult {\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return LitHtml.html`\n      ${explanations.length > 0 ? LitHtml.html`\n        <${ReportView.ReportView.ReportSectionHeader.litTagName}>\n          ${category}\n          <div class='help-outline-icon'>\n            <${IconButton.Icon.Icon.litTagName} class=\"inline-icon\" .data=${{\n              iconName: 'help_outline',\n              color: 'var(--color-text-secondary)',\n              width: '16px',\n              height: '16px',\n              } as IconButton.Icon.IconData} title=${explainerText}>\n            </${IconButton.Icon.Icon.litTagName}>\n          </div>\n        </${ReportView.ReportView.ReportSectionHeader.litTagName}>\n        ${explanations.map(explanation => this.#renderReason(explanation, reasonToFramesMap.get(explanation.reason)))}\n      ` : LitHtml.nothing}\n    `;\n    // clang-format on\n  }\n\n  #maybeRenderReasonContext(explanation: Protocol.Page.BackForwardCacheNotRestoredExplanation): LitHtml.LitTemplate {\n    if (explanation.reason ===\n            Protocol.Page.BackForwardCacheNotRestoredReason.EmbedderExtensionSentMessageToCachedFrame &&\n        explanation.context) {\n      const link = 'chrome://extensions/?id=' + explanation.context;\n      // clang-format off\n    return LitHtml.html`${i18nString(UIStrings.blockingExtensionId)}\n      <${ChromeLink.ChromeLink.ChromeLink.litTagName} .href=${link}>${explanation.context}</${ChromeLink.ChromeLink.ChromeLink.litTagName}>`;\n      // clang-format on\n    }\n    return LitHtml.nothing;\n  }\n\n  #renderFramesPerReason(frames: string[]|undefined): LitHtml.LitTemplate {\n    if (frames === undefined || frames.length === 0 || !Root.Runtime.experiments.isEnabled('bfcacheDisplayTree')) {\n      return LitHtml.nothing;\n    }\n    const rows = [LitHtml.html`<div>${i18nString(UIStrings.framesPerIssue, {n: frames.length})}</div>`];\n    rows.push(...frames.map(url => LitHtml.html`<div class='text-ellipsis' title=${url}>${url}</div>`));\n    return LitHtml.html`\n      <div class='explanation-frames'>\n        <${ExpandableList.ExpandableList.ExpandableList.litTagName} .data=${\n        {rows} as\n        ExpandableList.ExpandableList.ExpandableListData}></${ExpandableList.ExpandableList.ExpandableList.litTagName}>\n      </div>\n    `;\n  }\n\n  #maybeRenderDeepLinkToUnload(explanation: Protocol.Page.BackForwardCacheNotRestoredExplanation): LitHtml.LitTemplate {\n    if (explanation.reason === Protocol.Page.BackForwardCacheNotRestoredReason.UnloadHandlerExistsInMainFrame ||\n        explanation.reason === Protocol.Page.BackForwardCacheNotRestoredReason.UnloadHandlerExistsInSubFrame) {\n      return LitHtml.html`\n        <x-link href=\"https://web.dev/bfcache/#never-use-the-unload-event\" class=\"link\">\n          ${i18nString(UIStrings.neverUseUnload)}\n        </x-link>`;\n    }\n    return LitHtml.nothing;\n  }\n\n  #renderReason(explanation: Protocol.Page.BackForwardCacheNotRestoredExplanation, frames: string[]|undefined):\n      LitHtml.TemplateResult {\n    // clang-format off\n    return LitHtml.html`\n      <${ReportView.ReportView.ReportSection.litTagName}>\n        ${(explanation.reason in NotRestoredReasonDescription) ?\n          LitHtml.html`\n            <div class='circled-exclamation-icon'>\n              <${IconButton.Icon.Icon.litTagName} class=\"inline-icon\" .data=${{\n                iconName: 'circled_exclamation_icon',\n                color: 'orange',\n                width: '16px',\n                height: '16px',\n              } as IconButton.Icon.IconData}>\n              </${IconButton.Icon.Icon.litTagName}>\n            </div>\n            <div>\n              ${NotRestoredReasonDescription[explanation.reason].name()}\n              ${this.#maybeRenderDeepLinkToUnload(explanation)}\n             ${this.#maybeRenderReasonContext(explanation)}\n           </div>` :\n            LitHtml.nothing}\n      </${ReportView.ReportView.ReportSection.litTagName}>\n      <div class='gray-text'>\n        ${explanation.reason}\n      </div>\n      ${this.#renderFramesPerReason(frames)}\n    `;\n    // clang-format on\n  }\n}\n\nComponentHelpers.CustomElements.defineComponent('devtools-resources-back-forward-cache-view', BackForwardCacheView);\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  interface HTMLElementTagNameMap {\n    'devtools-resources-back-forward-cache-view': BackForwardCacheView;\n  }\n}\n"]}