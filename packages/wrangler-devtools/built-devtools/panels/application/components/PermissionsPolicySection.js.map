{"version":3,"file":"PermissionsPolicySection.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/application/components/PermissionsPolicySection.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as SDK from '../../../core/sdk/sdk.js';\nimport * as Protocol from '../../../generated/protocol.js';\nimport * as NetworkForward from '../../../panels/network/forward/forward.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as IconButton from '../../../ui/components/icon_button/icon_button.js';\nimport * as Coordinator from '../../../ui/components/render_coordinator/render_coordinator.js';\nimport * as ReportView from '../../../ui/components/report_view/report_view.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\nimport permissionsPolicySectionStyles from './permissionsPolicySection.css.js';\n\nimport type * as Platform from '../../../core/platform/platform.js';\nimport * as Common from '../../../core/common/common.js';\n\nconst UIStrings = {\n  /**\n  *@description Label for a button. When clicked more details (for the content this button refers to) will be shown.\n  */\n  showDetails: 'Show details',\n  /**\n  *@description Label for a button. When clicked some details (for the content this button refers to) will be hidden.\n  */\n  hideDetails: 'Hide details',\n  /**\n  *@description Label for a list of features which are allowed according to the current Permissions policy\n  *(a mechanism that allows developers to enable/disable browser features and APIs (e.g. camera, geolocation, autoplay))\n  */\n  allowedFeatures: 'Allowed Features',\n  /**\n  *@description Label for a list of features which are disabled according to the current Permissions policy\n  *(a mechanism that allows developers to enable/disable browser features and APIs (e.g. camera, geolocation, autoplay))\n  */\n  disabledFeatures: 'Disabled Features',\n  /**\n  *@description Tooltip text for a link to a specific request's headers in the Network panel.\n  */\n  clickToShowHeader: 'Click to reveal the request whose \"`Permissions-Policy`\" HTTP header disables this feature.',\n  /**\n  *@description Tooltip text for a link to a specific iframe in the Elements panel (Iframes can be nested, the link goes\n  *  to the outer-most iframe which blocks a certain feature).\n  */\n  clickToShowIframe: 'Click to reveal the top-most iframe which does not allow this feature in the elements panel.',\n  /**\n  *@description Text describing that a specific feature is blocked by not being included in the iframe's \"allow\" attribute.\n  */\n  disabledByIframe: 'missing in iframe \"`allow`\" attribute',\n  /**\n  *@description Text describing that a specific feature is blocked by a Permissions Policy specified in a request header.\n  */\n  disabledByHeader: 'disabled by \"`Permissions-Policy`\" header',\n  /**\n   *@description Text describing that a specific feature is blocked by virtue of being inside a fenced frame tree.\n   */\n  disabledByFencedFrame: 'disabled inside a `fencedframe`',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/application/components/PermissionsPolicySection.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst coordinator = Coordinator.RenderCoordinator.RenderCoordinator.instance();\n\nexport interface PermissionsPolicySectionData {\n  policies: Protocol.Page.PermissionsPolicyFeatureState[];\n  showDetails: boolean;\n}\n\nexport function renderIconLink(\n    iconName: string, title: Platform.UIString.LocalizedString,\n    clickHandler: (() => void)|(() => Promise<void>)): LitHtml.TemplateResult {\n  // Disabled until https://crbug.com/1079231 is fixed.\n  // clang-format off\n  return LitHtml.html`\n    <button class=\"link\" role=\"link\" tabindex=0 @click=${clickHandler} title=${title}>\n      <${IconButton.Icon.Icon.litTagName} .data=${{\n        iconName: iconName,\n        color: 'var(--color-primary)',\n        width: '16px',\n        height: '16px',\n      } as IconButton.Icon.IconData}>\n      </${IconButton.Icon.Icon.litTagName}>\n    </button>\n  `;\n  // clang-format on\n}\n\nexport class PermissionsPolicySection extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`devtools-resources-permissions-policy-section`;\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #permissionsPolicySectionData: PermissionsPolicySectionData = {policies: [], showDetails: false};\n\n  set data(data: PermissionsPolicySectionData) {\n    this.#permissionsPolicySectionData = data;\n    void this.#render();\n  }\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [permissionsPolicySectionStyles];\n  }\n\n  #toggleShowPermissionsDisallowedDetails(): void {\n    this.#permissionsPolicySectionData.showDetails = !this.#permissionsPolicySectionData.showDetails;\n    void this.#render();\n  }\n\n  #renderAllowed(): LitHtml.LitTemplate {\n    const allowed = this.#permissionsPolicySectionData.policies.filter(p => p.allowed).map(p => p.feature).sort();\n    if (!allowed.length) {\n      return LitHtml.nothing;\n    }\n    return LitHtml.html`\n      <${ReportView.ReportView.ReportKey.litTagName}>${i18nString(UIStrings.allowedFeatures)}</${\n        ReportView.ReportView.ReportKey.litTagName}>\n      <${ReportView.ReportView.ReportValue.litTagName}>\n        ${allowed.join(', ')}\n      </${ReportView.ReportView.ReportValue.litTagName}>\n    `;\n  }\n\n  async #renderDisallowed(): Promise<LitHtml.LitTemplate> {\n    const disallowed = this.#permissionsPolicySectionData.policies.filter(p => !p.allowed)\n                           .sort((a, b) => a.feature.localeCompare(b.feature));\n    if (!disallowed.length) {\n      return LitHtml.nothing;\n    }\n    if (!this.#permissionsPolicySectionData.showDetails) {\n      return LitHtml.html`\n        <${ReportView.ReportView.ReportKey.litTagName}>${i18nString(UIStrings.disabledFeatures)}</${\n          ReportView.ReportView.ReportKey.litTagName}>\n        <${ReportView.ReportView.ReportValue.litTagName}>\n          ${disallowed.map(p => p.feature).join(', ')}\n          <button class=\"link\" @click=${(): void => this.#toggleShowPermissionsDisallowedDetails()}>\n            ${i18nString(UIStrings.showDetails)}\n          </button>\n        </${ReportView.ReportView.ReportValue.litTagName}>\n      `;\n    }\n\n    const frameManager = SDK.FrameManager.FrameManager.instance();\n    const featureRows = await Promise.all(disallowed.map(async policy => {\n      const frame = policy.locator ? frameManager.getFrame(policy.locator.frameId) : null;\n      const blockReason = policy.locator?.blockReason;\n      const linkTargetDOMNode = await (\n          blockReason === Protocol.Page.PermissionsPolicyBlockReason.IframeAttribute && frame &&\n          frame.getOwnerDOMNodeOrDocument());\n      const resource = frame && frame.resourceForURL(frame.url);\n      const linkTargetRequest =\n          blockReason === Protocol.Page.PermissionsPolicyBlockReason.Header && resource && resource.request;\n      const blockReasonText = ((): String => {\n        switch (blockReason) {\n          case Protocol.Page.PermissionsPolicyBlockReason.IframeAttribute:\n            return i18nString(UIStrings.disabledByIframe);\n          case Protocol.Page.PermissionsPolicyBlockReason.Header:\n            return i18nString(UIStrings.disabledByHeader);\n          case Protocol.Page.PermissionsPolicyBlockReason.InFencedFrameTree:\n            return i18nString(UIStrings.disabledByFencedFrame);\n          default:\n            return '';\n        }\n      })();\n      const revealHeader = async(): Promise<void> => {\n        if (!linkTargetRequest) {\n          return;\n        }\n        const headerName =\n            linkTargetRequest.responseHeaderValue('permissions-policy') ? 'permissions-policy' : 'feature-policy';\n        const requestLocation = NetworkForward.UIRequestLocation.UIRequestLocation.responseHeaderMatch(\n            linkTargetRequest,\n            {name: headerName, value: ''},\n        );\n        await Common.Revealer.reveal(requestLocation);\n      };\n\n      return LitHtml.html`\n        <div class=\"permissions-row\">\n          <div>\n            <${IconButton.Icon.Icon.litTagName} class=\"allowed-icon\"\n              .data=${{color: '', iconName: 'error_icon', width: '14px'} as IconButton.Icon.IconData}>\n            </${IconButton.Icon.Icon.litTagName}>\n          </div>\n          <div class=\"feature-name text-ellipsis\">\n            ${policy.feature}\n          </div>\n          <div class=\"block-reason\">${blockReasonText}</div>\n          <div>\n            ${\n          linkTargetDOMNode ? renderIconLink(\n                                  'elements_panel_icon',\n                                  i18nString(UIStrings.clickToShowIframe),\n                                  (): Promise<void> => Common.Revealer.reveal(linkTargetDOMNode),\n                                  ) :\n                              LitHtml.nothing}\n            ${\n          linkTargetRequest ? renderIconLink(\n                                  'network_panel_icon',\n                                  i18nString(UIStrings.clickToShowHeader),\n                                  revealHeader,\n                                  ) :\n                              LitHtml.nothing}\n          </div>\n        </div>\n      `;\n    }));\n\n    return LitHtml.html`\n      <${ReportView.ReportView.ReportKey.litTagName}>${i18nString(UIStrings.disabledFeatures)}</${\n        ReportView.ReportView.ReportKey.litTagName}>\n      <${ReportView.ReportView.ReportValue.litTagName} class=\"policies-list\">\n        ${featureRows}\n        <div class=\"permissions-row\">\n          <button class=\"link\" @click=${(): void => this.#toggleShowPermissionsDisallowedDetails()}>\n            ${i18nString(UIStrings.hideDetails)}\n          </button>\n        </div>\n      </${ReportView.ReportView.ReportValue.litTagName}>\n    `;\n  }\n\n  async #render(): Promise<void> {\n    await coordinator.write('PermissionsPolicySection render', () => {\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      LitHtml.render(\n        LitHtml.html`\n          <${ReportView.ReportView.ReportSectionHeader.litTagName}>${i18n.i18n.lockedString('Permissions Policy')}</${\n            ReportView.ReportView.ReportSectionHeader.litTagName}>\n          ${this.#renderAllowed()}\n          ${LitHtml.Directives.until(this.#renderDisallowed(), LitHtml.nothing)}\n          <${ReportView.ReportView.ReportSectionDivider.litTagName}></${\n            ReportView.ReportView.ReportSectionDivider.litTagName}>\n        `,\n        this.#shadow, {host: this},\n      );\n      // clang-format on\n    });\n  }\n}\n\nComponentHelpers.CustomElements.defineComponent(\n    'devtools-resources-permissions-policy-section', PermissionsPolicySection);\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  interface HTMLElementTagNameMap {\n    'devtools-resources-permissions-policy-section': PermissionsPolicySection;\n  }\n}\n"]}