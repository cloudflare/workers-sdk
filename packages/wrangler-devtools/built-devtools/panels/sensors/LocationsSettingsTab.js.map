{"version":3,"file":"LocationsSettingsTab.js","sourceRoot":"","sources":["../../../../../../front_end/panels/sensors/LocationsSettingsTab.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2018 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport locationsSettingsTabStyles from './locationsSettingsTab.css.js';\n\nlet locationsSettingsTabInstance: LocationsSettingsTab;\n\nconst UIStrings = {\n  /**\n  *@description Title in the Locations Settings Tab, where custom geographic locations that the user\n  *has entered are stored.\n  */\n  customLocations: 'Custom locations',\n  /**\n  *@description Label for the name of a geographic location that the user has entered.\n  */\n  locationName: 'Location name',\n  /**\n  *@description Abbreviation of latitude in Locations Settings Tab of the Device Toolbar\n  */\n  lat: 'Lat',\n  /**\n  *@description Abbreviation of longitude in Locations Settings Tab of the Device Toolbar\n  */\n  long: 'Long',\n  /**\n  *@description Text in Sensors View of the Device Toolbar\n  */\n  timezoneId: 'Timezone ID',\n  /**\n  *@description Label for text input for the locale of a particular location.\n  */\n  locale: 'Locale',\n  /**\n  *@description Label for text input for the latitude of a GPS position.\n  */\n  latitude: 'Latitude',\n  /**\n  *@description Label for text input for the longitude of a GPS position.\n  */\n  longitude: 'Longitude',\n  /**\n  *@description Error message in the Locations settings pane that declares the location name input must not be empty\n  */\n  locationNameCannotBeEmpty: 'Location name cannot be empty',\n  /**\n  *@description Error message in the Locations settings pane that declares the maximum length of the location name\n  *@example {50} PH1\n  */\n  locationNameMustBeLessThanS: 'Location name must be less than {PH1} characters',\n  /**\n  *@description Error message in the Locations settings pane that declares that the value for the latitude input must be a number\n  */\n  latitudeMustBeANumber: 'Latitude must be a number',\n  /**\n  *@description Error message in the Locations settings pane that declares the minimum value for the latitude input\n  *@example {-90} PH1\n  */\n  latitudeMustBeGreaterThanOrEqual: 'Latitude must be greater than or equal to {PH1}',\n  /**\n  *@description Error message in the Locations settings pane that declares the maximum value for the latitude input\n  *@example {90} PH1\n  */\n  latitudeMustBeLessThanOrEqualToS: 'Latitude must be less than or equal to {PH1}',\n  /**\n  *@description Error message in the Locations settings pane that declares that the value for the longitude input must be a number\n  */\n  longitudeMustBeANumber: 'Longitude must be a number',\n  /**\n  *@description Error message in the Locations settings pane that declares the minimum value for the longitude input\n  *@example {-180} PH1\n  */\n  longitudeMustBeGreaterThanOr: 'Longitude must be greater than or equal to {PH1}',\n  /**\n  *@description Error message in the Locations settings pane that declares the maximum value for the longitude input\n  *@example {180} PH1\n  */\n  longitudeMustBeLessThanOrEqualTo: 'Longitude must be less than or equal to {PH1}',\n  /**\n  *@description Error message in the Locations settings pane that declares timezone ID input invalid\n  */\n  timezoneIdMustContainAlphabetic: 'Timezone ID must contain alphabetic characters',\n  /**\n  *@description Error message in the Locations settings pane that declares locale input invalid\n  */\n  localeMustContainAlphabetic: 'Locale must contain alphabetic characters',\n  /**\n  *@description Text of add locations button in Locations Settings Tab of the Device Toolbar\n  */\n  addLocation: 'Add location...',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sensors/LocationsSettingsTab.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class LocationsSettingsTab extends UI.Widget.VBox implements UI.ListWidget.Delegate<LocationDescription> {\n  private readonly list: UI.ListWidget.ListWidget<LocationDescription>;\n  private readonly customSetting: Common.Settings.Setting<LocationDescription[]>;\n  private editor?: UI.ListWidget.Editor<LocationDescription>;\n\n  private constructor() {\n    super(true);\n\n    this.contentElement.createChild('div', 'header').textContent = i18nString(UIStrings.customLocations);\n\n    const addButton = UI.UIUtils.createTextButton(\n        i18nString(UIStrings.addLocation), this.addButtonClicked.bind(this), 'add-locations-button');\n    this.contentElement.appendChild(addButton);\n\n    this.list = new UI.ListWidget.ListWidget(this);\n    this.list.element.classList.add('locations-list');\n    this.list.show(this.contentElement);\n    this.customSetting =\n        Common.Settings.Settings.instance().moduleSetting<LocationDescription[]>('emulation.locations');\n    const list =\n        this.customSetting.get().map(location => replaceLocationTitles(location, this.customSetting.defaultValue));\n\n    function replaceLocationTitles(\n        location: LocationDescription, defaultValues: LocationDescription[]): LocationDescription {\n      // This check is done for locations that might had been cached wrongly due to crbug.com/1171670.\n      // Each of the default values would have been stored without a title if the user had added a new location\n      // while the bug was present in the application. This means that getting the setting's default value with the `get`\n      // method would return the default locations without a title. To cope with this, the setting values are\n      // preemptively checked and corrected so that any default value mistakenly stored without a title is replaced\n      // with the corresponding declared value in the pre-registered setting.\n      if (!location.title) {\n        const replacement = defaultValues.find(\n            defaultLocation => defaultLocation.lat === location.lat && defaultLocation.long === location.long &&\n                defaultLocation.timezoneId === location.timezoneId && defaultLocation.locale === location.locale);\n        if (!replacement) {\n          console.error('Could not determine a location setting title');\n        } else {\n          return replacement;\n        }\n      }\n      return location;\n    }\n\n    this.customSetting.set(list);\n    this.customSetting.addChangeListener(this.locationsUpdated, this);\n\n    this.setDefaultFocusedElement(addButton);\n  }\n\n  static instance(): LocationsSettingsTab {\n    if (!locationsSettingsTabInstance) {\n      locationsSettingsTabInstance = new LocationsSettingsTab();\n    }\n\n    return locationsSettingsTabInstance;\n  }\n\n  wasShown(): void {\n    super.wasShown();\n    this.registerCSSFiles([locationsSettingsTabStyles]);\n    this.list.registerCSSFiles([locationsSettingsTabStyles]);\n    this.locationsUpdated();\n  }\n\n  private locationsUpdated(): void {\n    this.list.clear();\n\n    const conditions = this.customSetting.get();\n    for (const condition of conditions) {\n      this.list.appendItem(condition, true);\n    }\n\n    this.list.appendSeparator();\n  }\n\n  private addButtonClicked(): void {\n    this.list.addNewItem(this.customSetting.get().length, {title: '', lat: 0, long: 0, timezoneId: '', locale: ''});\n  }\n\n  renderItem(location: LocationDescription, _editable: boolean): Element {\n    const element = document.createElement('div');\n    element.classList.add('locations-list-item');\n    const title = element.createChild('div', 'locations-list-text locations-list-title');\n    const titleText = title.createChild('div', 'locations-list-title-text');\n    titleText.textContent = location.title;\n    UI.Tooltip.Tooltip.install(titleText, location.title);\n    element.createChild('div', 'locations-list-separator');\n    element.createChild('div', 'locations-list-text').textContent = String(location.lat);\n    element.createChild('div', 'locations-list-separator');\n    element.createChild('div', 'locations-list-text').textContent = String(location.long);\n    element.createChild('div', 'locations-list-separator');\n    element.createChild('div', 'locations-list-text').textContent = location.timezoneId;\n    element.createChild('div', 'locations-list-separator');\n    element.createChild('div', 'locations-list-text').textContent = location.locale;\n    return element;\n  }\n\n  removeItemRequested(item: LocationDescription, index: number): void {\n    const list = this.customSetting.get();\n    list.splice(index, 1);\n    this.customSetting.set(list);\n  }\n\n  commitEdit(location: LocationDescription, editor: UI.ListWidget.Editor<LocationDescription>, isNew: boolean): void {\n    location.title = editor.control('title').value.trim();\n    const lat = editor.control('lat').value.trim();\n    location.lat = lat ? parseFloat(lat) : 0;\n    const long = editor.control('long').value.trim();\n    location.long = long ? parseFloat(long) : 0;\n    const timezoneId = editor.control('timezoneId').value.trim();\n    location.timezoneId = timezoneId;\n    const locale = editor.control('locale').value.trim();\n    location.locale = locale;\n\n    const list = this.customSetting.get();\n    if (isNew) {\n      list.push(location);\n    }\n    this.customSetting.set(list);\n  }\n\n  beginEdit(location: LocationDescription): UI.ListWidget.Editor<LocationDescription> {\n    const editor = this.createEditor();\n    editor.control('title').value = location.title;\n    editor.control('lat').value = String(location.lat);\n    editor.control('long').value = String(location.long);\n    editor.control('timezoneId').value = location.timezoneId;\n    editor.control('locale').value = location.locale;\n    return editor;\n  }\n\n  private createEditor(): UI.ListWidget.Editor<LocationDescription> {\n    if (this.editor) {\n      return this.editor;\n    }\n\n    const editor = new UI.ListWidget.Editor<LocationDescription>();\n    this.editor = editor;\n    const content = editor.contentElement();\n\n    const titles = content.createChild('div', 'locations-edit-row');\n    titles.createChild('div', 'locations-list-text locations-list-title').textContent =\n        i18nString(UIStrings.locationName);\n    titles.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n    titles.createChild('div', 'locations-list-text').textContent = i18nString(UIStrings.lat);\n    titles.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n    titles.createChild('div', 'locations-list-text').textContent = i18nString(UIStrings.long);\n    titles.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n    titles.createChild('div', 'locations-list-text').textContent = i18nString(UIStrings.timezoneId);\n    titles.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n    titles.createChild('div', 'locations-list-text').textContent = i18nString(UIStrings.locale);\n\n    const fields = content.createChild('div', 'locations-edit-row');\n    fields.createChild('div', 'locations-list-text locations-list-title locations-input-container')\n        .appendChild(editor.createInput('title', 'text', i18nString(UIStrings.locationName), titleValidator));\n    fields.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n\n    let cell = fields.createChild('div', 'locations-list-text locations-input-container');\n    cell.appendChild(editor.createInput('lat', 'text', i18nString(UIStrings.latitude), latValidator));\n    fields.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n\n    cell = fields.createChild('div', 'locations-list-text locations-list-text-longitude locations-input-container');\n    cell.appendChild(editor.createInput('long', 'text', i18nString(UIStrings.longitude), longValidator));\n    fields.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n\n    cell = fields.createChild('div', 'locations-list-text locations-input-container');\n    cell.appendChild(editor.createInput('timezoneId', 'text', i18nString(UIStrings.timezoneId), timezoneIdValidator));\n    fields.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n\n    cell = fields.createChild('div', 'locations-list-text locations-input-container');\n    cell.appendChild(editor.createInput('locale', 'text', i18nString(UIStrings.locale), localeValidator));\n\n    return editor;\n\n    function titleValidator(\n        item: LocationDescription, index: number, input: UI.ListWidget.EditorControl): UI.ListWidget.ValidatorResult {\n      const maxLength = 50;\n      const value = input.value.trim();\n\n      let errorMessage;\n      if (!value.length) {\n        errorMessage = i18nString(UIStrings.locationNameCannotBeEmpty);\n      } else if (value.length > maxLength) {\n        errorMessage = i18nString(UIStrings.locationNameMustBeLessThanS, {PH1: maxLength});\n      }\n\n      if (errorMessage) {\n        return {valid: false, errorMessage};\n      }\n      return {valid: true, errorMessage: undefined};\n    }\n\n    function latValidator(\n        item: LocationDescription, index: number, input: UI.ListWidget.EditorControl): UI.ListWidget.ValidatorResult {\n      const minLat = -90;\n      const maxLat = 90;\n      const value = input.value.trim();\n      const parsedValue = Number(value);\n\n      if (!value) {\n        return {valid: true, errorMessage: undefined};\n      }\n\n      let errorMessage;\n      if (Number.isNaN(parsedValue)) {\n        errorMessage = i18nString(UIStrings.latitudeMustBeANumber);\n      } else if (parseFloat(value) < minLat) {\n        errorMessage = i18nString(UIStrings.latitudeMustBeGreaterThanOrEqual, {PH1: minLat});\n      } else if (parseFloat(value) > maxLat) {\n        errorMessage = i18nString(UIStrings.latitudeMustBeLessThanOrEqualToS, {PH1: maxLat});\n      }\n\n      if (errorMessage) {\n        return {valid: false, errorMessage};\n      }\n      return {valid: true, errorMessage: undefined};\n    }\n\n    function longValidator(\n        item: LocationDescription, index: number, input: UI.ListWidget.EditorControl): UI.ListWidget.ValidatorResult {\n      const minLong = -180;\n      const maxLong = 180;\n      const value = input.value.trim();\n      const parsedValue = Number(value);\n\n      if (!value) {\n        return {valid: true, errorMessage: undefined};\n      }\n\n      let errorMessage;\n      if (Number.isNaN(parsedValue)) {\n        errorMessage = i18nString(UIStrings.longitudeMustBeANumber);\n      } else if (parseFloat(value) < minLong) {\n        errorMessage = i18nString(UIStrings.longitudeMustBeGreaterThanOr, {PH1: minLong});\n      } else if (parseFloat(value) > maxLong) {\n        errorMessage = i18nString(UIStrings.longitudeMustBeLessThanOrEqualTo, {PH1: maxLong});\n      }\n\n      if (errorMessage) {\n        return {valid: false, errorMessage};\n      }\n      return {valid: true, errorMessage: undefined};\n    }\n\n    function timezoneIdValidator(\n        item: LocationDescription, index: number, input: UI.ListWidget.EditorControl): UI.ListWidget.ValidatorResult {\n      const value = input.value.trim();\n      // Chromium uses ICU's timezone implementation, which is very\n      // liberal in what it accepts. ICU does not simply use an allowlist\n      // but instead tries to make sense of the input, even for\n      // weird-looking timezone IDs. There's not much point in validating\n      // the input other than checking if it contains at least one\n      // alphabetic character. The empty string resets the override,\n      // and is accepted as well.\n      if (value === '' || /[a-zA-Z]/.test(value)) {\n        return {valid: true, errorMessage: undefined};\n      }\n      const errorMessage = i18nString(UIStrings.timezoneIdMustContainAlphabetic);\n      return {valid: false, errorMessage};\n    }\n\n    function localeValidator(\n        item: LocationDescription, index: number, input: UI.ListWidget.EditorControl): UI.ListWidget.ValidatorResult {\n      const value = input.value.trim();\n      // Similarly to timezone IDs, there's not much point in validating\n      // input locales other than checking if it contains at least two\n      // alphabetic characters.\n      // https://unicode.org/reports/tr35/#Unicode_language_identifier\n      // The empty string resets the override, and is accepted as\n      // well.\n      if (value === '' || /[a-zA-Z]{2}/.test(value)) {\n        return {valid: true, errorMessage: undefined};\n      }\n      const errorMessage = i18nString(UIStrings.localeMustContainAlphabetic);\n      return {valid: false, errorMessage};\n    }\n  }\n}\nexport interface LocationDescription {\n  title: string;\n  lat: number;\n  long: number;\n  timezoneId: string;\n  locale: string;\n}\n"]}